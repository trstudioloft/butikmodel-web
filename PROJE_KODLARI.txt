=== BUTIKMODEL.COM PROJE KODLARI ===



--- DOSYA BAÅLANGICI: app/api/check/route.ts ---
import { NextResponse } from "next/server";
import Replicate from "replicate";

const replicate = new Replicate({
  auth: process.env.REPLICATE_API_TOKEN,
});

export async function GET(request: Request) {
  const { searchParams } = new URL(request.url);
  const id = searchParams.get("id");

  if (!id) {
    return NextResponse.json({ error: "ID gerekli" }, { status: 400 });
  }

  try {
    // Replicate'e sor: Bu iÅŸ ne durumda?
    const prediction = await replicate.predictions.get(id);

    return NextResponse.json(prediction);
  } catch (error: any) {
    return NextResponse.json({ error: error.message }, { status: 500 });
  }
}
--- DOSYA SONU: app/api/check/route.ts ---


--- DOSYA BAÅLANGICI: app/api/generate/route.ts ---
import { NextResponse } from "next/server";
import Replicate from "replicate";

const replicate = new Replicate({
  auth: process.env.REPLICATE_API_TOKEN,
});

export async function POST(request: Request) {
  try {
    const body = await request.json();
    const { imageUrl, modelUrl, type, prompt } = body;

    console.log(`ğŸš€ SipariÅŸ Geldi! TÃ¼r: ${type || 'Standart'}, Prompt: ${prompt || 'Yok'}`);

    let output;

    // 1. TÃœR: METÄ°N YAZARI
    if (type === 'copywriter') {
      output = await replicate.predictions.create({
        version: "a0fdc44e4f2e1f20f2bb4e27846899953ac8e66c5886c5878fa1d6b27369fc46",
        input: {
          image: imageUrl,
          top_p: 1,
          prompt: "Describe this fashion product for an e-commerce listing. Write in Turkish.",
          max_tokens: 1024
        },
      });
    }

    // 2. TÃœR: HAYALET MANKEN
    else if (type === 'ghost') {
      output = await replicate.predictions.create({
        version: "fb8af171cfa1616ddcf1242c093f9c46bcada5ad4cf6f2fbe8b81b330ec5c003",
        input: { image: imageUrl, return_mask: false },
      });
    } 

    // 3. TÃœR: STÃœDYO / ARKAPLAN (YENÄ°!)
    else if (type === 'studio') {
      // 'logerze/ad-inpaint' modeli Ã¼rÃ¼n fotoÄŸrafÄ±nÄ± alÄ±r, arkaplanÄ± siler ve prompt'a gÃ¶re yenisini yapar.
      output = await replicate.predictions.create({
        version: "b1c17d148455c1fda435ababe9ab1e03bc0d917cc3cf4251916f2d7641eccdc5",
        input: {
          image_path: imageUrl, // ÃœrÃ¼n resmi
          prompt: prompt || "professional product photography, studio lighting, high quality", // Mekan tarifi
          negative_prompt: "low quality, text, watermark, ugly, distorted",
          pixel_perfect: true,
          shading_strength: 0.5
        },
      });
    }
    
    // 4. TÃœR: STANDART MANKEN GÄ°YDÄ°RME
    else {
      output = await replicate.predictions.create({
        version: "c871bb9b0466074280c2a9a73b5d753e763bd3c87429273752e505a74653303d",
        input: {
          human_img: modelUrl || "https://replicate.delivery/pbxt/Kqz10aXfQYc1092837/model.jpg",
          garm_img: imageUrl,
          garment_des: "clothing",
          steps: 30,
        },
      });
    }

    return NextResponse.json(output, { status: 201 });

  } catch (error: any) {
    console.error("âŒ API HatasÄ±:", error);
    return NextResponse.json({ error: error.message }, { status: 500 });
  }
}
--- DOSYA SONU: app/api/generate/route.ts ---


--- DOSYA BAÅLANGICI: app/contact/page.tsx ---
"use client";

import { useState } from "react";
import Link from "next/link";

export default function ContactPage() {
  const [loading, setLoading] = useState(false);
  const [sent, setSent] = useState(false);

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    setLoading(true);
    
    // SÄ°MÃœLASYON: Mesaj gÃ¶nderme iÅŸlemi
    setTimeout(() => {
      setLoading(false);
      setSent(true);
    }, 1500);
  };

  return (
    <div className="min-h-screen bg-white font-sans text-gray-900 selection:bg-black selection:text-white">
      
      {/* NAVBAR (BasitleÅŸtirilmiÅŸ) */}
      <nav className="fixed top-0 w-full bg-white/90 backdrop-blur-md z-50 border-b border-gray-100">
        <div className="flex items-center justify-between px-6 py-4 max-w-7xl mx-auto">
          <Link href="/" className="flex items-center gap-2 group">
            <div className="w-8 h-8 bg-black rounded-lg flex items-center justify-center text-white font-bold text-xl shadow-lg group-hover:scale-105 transition-transform">B</div>
            <span className="font-bold text-xl tracking-tight">butikmodel<span className="text-gray-400">.com</span></span>
          </Link>
          <Link href="/" className="text-sm font-bold text-gray-500 hover:text-black transition">
            â† Ana Sayfaya DÃ¶n
          </Link>
        </div>
      </nav>

      <div className="pt-32 pb-20 px-4 max-w-7xl mx-auto">
        
        {/* BAÅLIK */}
        <div className="text-center mb-16">
           <h1 className="text-4xl md:text-5xl font-extrabold mb-4 tracking-tight">Ä°letiÅŸime GeÃ§in ğŸ’¬</h1>
           <p className="text-gray-500 text-lg max-w-2xl mx-auto">
             Projenizle ilgili sorularÄ±nÄ±z mÄ± var? Ekibimiz size yardÄ±mcÄ± olmak iÃ§in hazÄ±r.
           </p>
        </div>

        <div className="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-24">
           
           {/* SOL: BÄ°LGÄ°LER */}
           <div className="space-y-10">
              
              <div>
                 <h3 className="text-xl font-bold mb-4">Genel Merkez</h3>
                 <p className="text-gray-600 leading-relaxed">
                   Pars Digital Plaza<br/>
                   Maslak Mah. BÃ¼yÃ¼kdere Cad. No: 123<br/>
                   SarÄ±yer, Ä°stanbul
                 </p>
              </div>

              <div>
                 <h3 className="text-xl font-bold mb-4">DoÄŸrudan UlaÅŸÄ±n</h3>
                 <div className="space-y-3">
                    <a href="mailto:destek@butikmodel.com" className="flex items-center gap-3 text-gray-600 hover:text-blue-600 transition p-3 rounded-xl hover:bg-blue-50 border border-transparent hover:border-blue-100 group">
                       <span className="w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-lg group-hover:bg-blue-600 group-hover:text-white transition-colors">âœ‰ï¸</span>
                       <span className="font-medium">destek@butikmodel.com</span>
                    </a>
                    <a href="tel:+902120000000" className="flex items-center gap-3 text-gray-600 hover:text-green-600 transition p-3 rounded-xl hover:bg-green-50 border border-transparent hover:border-green-100 group">
                       <span className="w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-lg group-hover:bg-green-600 group-hover:text-white transition-colors">ğŸ“</span>
                       <span className="font-medium">+90 (212) 000 00 00</span>
                    </a>
                 </div>
              </div>

              <div className="pt-8 border-t border-gray-100">
                 <h3 className="text-sm font-bold text-gray-400 uppercase tracking-widest mb-4">SOSYAL MEDYA</h3>
                 <div className="flex gap-4">
                    {['Instagram', 'Twitter', 'LinkedIn'].map((social) => (
                      <a key={social} href="#" className="bg-gray-100 px-4 py-2 rounded-lg text-sm font-bold text-gray-600 hover:bg-black hover:text-white transition-colors">
                        {social}
                      </a>
                    ))}
                 </div>
              </div>

           </div>

           {/* SAÄ: FORM */}
           <div className="bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100 p-8 lg:p-10">
              {sent ? (
                <div className="h-full flex flex-col items-center justify-center text-center py-20 animate-in fade-in zoom-in">
                   <div className="w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-4xl mb-6">âœ“</div>
                   <h3 className="text-2xl font-bold text-gray-900 mb-2">MesajÄ±nÄ±z AlÄ±ndÄ±!</h3>
                   <p className="text-gray-500 mb-8">En kÄ±sa sÃ¼rede size dÃ¶nÃ¼ÅŸ yapacaÄŸÄ±z.</p>
                   <button onClick={() => setSent(false)} className="text-sm font-bold text-gray-900 underline hover:text-blue-600">
                     Yeni Mesaj GÃ¶nder
                   </button>
                </div>
              ) : (
                <form onSubmit={handleSubmit} className="space-y-6">
                   <div className="grid grid-cols-2 gap-6">
                      <div className="space-y-2">
                         <label className="text-xs font-bold text-gray-500 uppercase">AdÄ±nÄ±z</label>
                         <input required type="text" placeholder="Ad" className="w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-black outline-none transition-all" />
                      </div>
                      <div className="space-y-2">
                         <label className="text-xs font-bold text-gray-500 uppercase">SoyadÄ±nÄ±z</label>
                         <input required type="text" placeholder="Soyad" className="w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-black outline-none transition-all" />
                      </div>
                   </div>

                   <div className="space-y-2">
                      <label className="text-xs font-bold text-gray-500 uppercase">E-Posta Adresi</label>
                      <input required type="email" placeholder="isim@sirket.com" className="w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-black outline-none transition-all" />
                   </div>

                   <div className="space-y-2">
                      <label className="text-xs font-bold text-gray-500 uppercase">Konu</label>
                      <select className="w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-black outline-none transition-all">
                         <option>Genel Bilgi</option>
                         <option>Teknik Destek</option>
                         <option>Kurumsal / Ajans Ä°ÅŸbirliÄŸi</option>
                         <option>Ã–deme Sorunu</option>
                      </select>
                   </div>

                   <div className="space-y-2">
                      <label className="text-xs font-bold text-gray-500 uppercase">MesajÄ±nÄ±z</label>
                      <textarea required rows={4} placeholder="Size nasÄ±l yardÄ±mcÄ± olabiliriz?" className="w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-black outline-none transition-all resize-none"></textarea>
                   </div>

                   <button 
                     type="submit" 
                     disabled={loading}
                     className="w-full bg-black text-white font-bold py-4 rounded-xl shadow-lg hover:bg-gray-900 hover:scale-[1.01] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"
                   >
                     {loading ? (
                       <>
                         <span className="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></span>
                         GÃ¶nderiliyor...
                       </>
                     ) : (
                       "MesajÄ± GÃ¶nder"
                     )}
                   </button>
                </form>
              )}
           </div>

        </div>
      </div>
    </div>
  );
}
--- DOSYA SONU: app/contact/page.tsx ---


--- DOSYA BAÅLANGICI: app/dashboard/background/page.tsx ---
"use client";

import { useState, useRef, useEffect } from "react";
import { supabase } from "@/lib/supabase";
import { useRouter } from "next/navigation";

export default function BackgroundPage() {
  const [user, setUser] = useState<any>(null);
  const [processing, setProcessing] = useState(false);
  const [statusMessage, setStatusMessage] = useState("");
  
  // Dosya YÃ¶netimi
  const [uploadedFiles, setUploadedFiles] = useState<string[]>([]);
  const [results, setResults] = useState<string[]>([]);
  
  // Ayarlar
  const [shootMode, setShootMode] = useState<'model' | 'product'>('model'); // YENÄ°: Ä°nsan mÄ± Nesne mi?
  const [selectedTheme, setSelectedTheme] = useState("stÃ¼dyo");
  const [customPrompt, setCustomPrompt] = useState(""); 
  const [consistencyMode, setConsistencyMode] = useState(true);
  
  const fileInputRef = useRef<HTMLInputElement>(null);
  const router = useRouter();

  useEffect(() => {
    async function getUser() {
      const { data: { session } } = await supabase.auth.getSession();
      if (!session) { router.push("/login"); return; }
      setUser(session.user);
    }
    getUser();
  }, [router]);

  const handleFileUpload = (event: React.ChangeEvent<HTMLInputElement>) => {
    if (!event.target.files) return;
    const newFiles = Array.from(event.target.files).map(file => URL.createObjectURL(file));
    if (uploadedFiles.length + newFiles.length > 5) {
      alert("Maksimum 5 fotoÄŸraf yÃ¼kleyebilirsiniz.");
      return;
    }
    setUploadedFiles([...uploadedFiles, ...newFiles]);
    setResults([]);
  };

  const handleThemeSelect = (id: string) => {
    setSelectedTheme(id);
    if (id !== 'custom') setCustomPrompt(""); 
  };

  const handleProcess = async () => {
    if (uploadedFiles.length === 0 || !user) return;
    setProcessing(true);
    setStatusMessage("FotoÄŸraftaki kiÅŸi analiz ediliyor...");

    try {
      const { data: profile } = await supabase.from("profiles").select("credits").eq("id", user.id).single();
      const requiredCredits = uploadedFiles.length; 

      if (profile && profile.credits < requiredCredits) {
        alert(`Yetersiz Kredi! Bu iÅŸlem iÃ§in ${requiredCredits} kredi lazÄ±m.`);
        setProcessing(false);
        return;
      }

      // AKILLI PROMPT MANTIÄI ğŸ§ 
      // Mod 'model' ise: "Fashion photography of a model..."
      // Mod 'product' ise: "Product photography of an object..."
      
      const subject = shootMode === 'model' ? "fashion model wearing the clothes" : "product object";
      const basePrompt = customPrompt.trim().length > 0 
        ? customPrompt 
        : `Professional ${selectedTheme} background`;

      const finalPrompt = `High quality photography of a ${subject}. Background: ${basePrompt}. Keep the subject exactly as is, change background only.`;

      console.log("ğŸš€ Yapay Zeka Emri:", finalPrompt);

      setTimeout(() => setStatusMessage(consistencyMode ? "TÃ¼m pozlar aynÄ± mekana taÅŸÄ±nÄ±yor..." : "Mekan deÄŸiÅŸtiriliyor..."), 1500);
      
      setTimeout(async () => {
        if (profile) {
            await supabase.from("profiles").update({ credits: profile.credits - requiredCredits }).eq("id", user.id);
        }
        
        // Demo SonuÃ§lar (Ä°nsanlÄ± moda Ã§ekimi Ã¶rnekleri)
        const demoResults = uploadedFiles.map(() => 
          shootMode === 'model' 
             ? "https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?w=600&h=800&fit=crop" // Model Ã–rneÄŸi
             : "https://images.unsplash.com/photo-1549388604-817d15aa0110?w=600&h=800&fit=crop" // ÃœrÃ¼n Ã–rneÄŸi
        );
        
        setResults(demoResults);
        setStatusMessage(`âœ… Ä°ÅŸlem TamamlandÄ±!`);
        setProcessing(false);
      }, 4000);

    } catch (error) {
      alert("Hata oluÅŸtu.");
      setProcessing(false);
    }
  };

  return (
    <div className="p-8 min-h-screen font-sans pb-20">
      <div className="mb-8">
        <h1 className="text-3xl font-bold text-gray-900">Atmosfer SihirbazÄ± ğŸ¨</h1>
        <p className="text-gray-500 mt-2">KÄ±yafeti giy, fotoÄŸrafÄ±nÄ± Ã§ek, arka planÄ± saniyeler iÃ§inde deÄŸiÅŸtir.</p>
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
        
        {/* SOL: AYARLAR */}
        <div className="space-y-6">
          
          {/* 0. Ã‡EKÄ°M MODU (YENÄ°) */}
          <div className="bg-white p-4 rounded-2xl shadow-sm border border-gray-100 flex p-1 gap-1">
             <button 
               onClick={() => setShootMode('model')}
               className={`flex-1 py-2 rounded-xl text-sm font-bold transition-all flex items-center justify-center gap-2 ${shootMode === 'model' ? 'bg-black text-white shadow-md' : 'text-gray-500 hover:bg-gray-50'}`}
             >
               ğŸ‘¤ Manken / Ä°nsan
             </button>
             <button 
               onClick={() => setShootMode('product')}
               className={`flex-1 py-2 rounded-xl text-sm font-bold transition-all flex items-center justify-center gap-2 ${shootMode === 'product' ? 'bg-black text-white shadow-md' : 'text-gray-500 hover:bg-gray-50'}`}
             >
               ğŸ‘œ Sadece ÃœrÃ¼n
             </button>
          </div>

          {/* 1. MEKAN SEÃ‡Ä°MÄ° */}
          <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
            <h3 className="font-bold text-gray-800 mb-4">Mekan & Atmosfer</h3>
            
            {/* Ã–zel Prompt */}
            <div className="mb-6">
                <label className="text-xs font-bold text-gray-500 mb-2 block uppercase tracking-wider">
                  {shootMode === 'model' ? "Ã–zel Sahne Tarifi" : "ÃœrÃ¼n Sahne Tarifi"}
                </label>
                <textarea 
                    value={customPrompt}
                    onChange={(e) => setCustomPrompt(e.target.value)}
                    placeholder={shootMode === 'model' 
                      ? "Ã–rn: Paris sokaklarÄ±nda yÃ¼rÃ¼rken, arkada flu maÄŸazalar, gÃ¼neÅŸli bir gÃ¼n..." 
                      : "Ã–rn: Mermer bir masa Ã¼zerinde, yanÄ±nda kuru Ã§iÃ§ekler, minimalist ortam..."}
                    className="w-full p-3 border border-gray-300 rounded-xl text-sm min-h-[100px] focus:ring-2 focus:ring-black focus:border-transparent outline-none shadow-sm"
                />
            </div>

            <div className="flex items-center gap-2 mb-4">
                <div className="h-px bg-gray-200 flex-1"></div>
                <span className="text-xs text-gray-400 font-medium">VEYA HAZIR SEÃ‡</span>
                <div className="h-px bg-gray-200 flex-1"></div>
            </div>

            <div className="space-y-2 max-h-[200px] overflow-y-auto pr-2 custom-scrollbar">
              {[
                {id: 'stÃ¼dyo', name: 'Minimal StÃ¼dyo (Gri/Beyaz)', icon: 'ğŸ“¸'},
                {id: 'street', name: 'Åehir & Sokak ModasÄ±', icon: 'ğŸ™ï¸'},
                {id: 'cafe', name: 'Butik Cafe OrtamÄ±', icon: 'â˜•'},
                {id: 'luxury', name: 'LÃ¼ks MaÄŸaza Ä°Ã§i', icon: 'âœ¨'},
                {id: 'nature', name: 'DoÄŸa & GÃ¼n IÅŸÄ±ÄŸÄ±', icon: 'ğŸŒ¿'},
              ].map(theme => (
                <div 
                  key={theme.id}
                  onClick={() => handleThemeSelect(theme.id)}
                  className={`p-3 rounded-xl border cursor-pointer flex items-center gap-3 transition-all ${selectedTheme === theme.id && customPrompt === "" ? 'border-black bg-gray-50 ring-1 ring-black' : 'border-gray-100 hover:bg-gray-50'}`}
                >
                  <span className="text-xl">{theme.icon}</span>
                  <span className="font-medium text-sm text-gray-700">{theme.name}</span>
                  {selectedTheme === theme.id && customPrompt === "" && <span className="ml-auto text-green-600 font-bold text-xs">SEÃ‡Ä°LDÄ°</span>}
                </div>
              ))}
            </div>
          </div>

          {/* Ä°ÅŸlem Butonu */}
          <button 
            onClick={handleProcess}
            disabled={uploadedFiles.length === 0 || processing}
            className="w-full bg-black text-white py-4 rounded-xl font-bold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed hover:scale-[1.02] transition-transform flex flex-col items-center justify-center"
          >
            {processing ? (
                <span>Sihir UygulanÄ±yor...</span>
            ) : (
                <>
                    <span>âœ¨ {shootMode === 'model' ? "Mankeni IÅŸÄ±nla" : "ArkaplanÄ± DeÄŸiÅŸtir"}</span>
                    <span className="text-[10px] opacity-70 font-normal mt-1">{uploadedFiles.length || 0} FotoÄŸraf = {uploadedFiles.length || 0} Kredi</span>
                </>
            )}
          </button>

        </div>

        {/* SAÄ: GALERÄ° */}
        <div className="lg:col-span-2 space-y-6">
          <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
             <div className="flex justify-between items-center mb-4">
               <h3 className="font-bold text-gray-800">
                 {shootMode === 'model' ? "Manken FotoÄŸraflarÄ±" : "ÃœrÃ¼n FotoÄŸraflarÄ±"} ({uploadedFiles.length}/5)
               </h3>
               <button onClick={() => {setUploadedFiles([]); setResults([]);}} className="text-xs text-red-500 hover:underline font-medium">Temizle</button>
             </div>
             
             <div className="grid grid-cols-3 sm:grid-cols-5 gap-4">
               {uploadedFiles.length < 5 && (
                 <div onClick={() => fileInputRef.current?.click()} className="aspect-[3/4] border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 hover:border-black transition-colors group">
                   <input type="file" multiple ref={fileInputRef} onChange={handleFileUpload} className="hidden" accept="image/*" />
                   <span className="text-2xl text-gray-400 group-hover:scale-110 transition-transform">+</span>
                   <span className="text-xs text-gray-500 font-bold mt-1">YÃ¼kle</span>
                 </div>
               )}
               {uploadedFiles.map((src, i) => (
                 <div key={i} className="aspect-[3/4] rounded-xl overflow-hidden relative border border-gray-200 group">
                   <img src={src} className="w-full h-full object-cover" />
                   <div className="absolute inset-0 bg-black/20 hidden group-hover:flex items-center justify-center">
                        <span className="text-white text-xs font-bold">#{i+1}</span>
                   </div>
                 </div>
               ))}
             </div>
          </div>

          {results.length > 0 && (
            <div className="bg-white p-6 rounded-2xl shadow-sm border border-green-100 animate-in slide-in-from-bottom-4">
              <h3 className="font-bold text-gray-800 mb-4 flex items-center gap-2">
                âœ… SonuÃ§lar
                <span className="text-xs font-normal text-gray-500">(Galeriye kaydedildi)</span>
              </h3>
              <div className="grid grid-cols-2 sm:grid-cols-3 gap-4">
                {results.map((src, i) => (
                  <div key={i} className="group relative aspect-[3/4] rounded-xl overflow-hidden shadow-sm">
                    <img src={src} className="w-full h-full object-cover" />
                    <a href={src} download className="absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer">
                      <span className="bg-white text-black text-xs font-bold px-3 py-1.5 rounded-full hover:scale-105 transition-transform">â¬‡ï¸ Ä°ndir</span>
                    </a>
                  </div>
                ))}
              </div>
            </div>
          )}
          
          {processing && (
            <div className="text-center py-12 bg-gray-50 rounded-2xl border border-dashed border-gray-200">
               <div className="text-4xl animate-bounce mb-4">ğŸ“¸</div>
               <p className="text-gray-500 font-medium">{statusMessage}</p>
            </div>
          )}

        </div>
      </div>
    </div>
  );
}
--- DOSYA SONU: app/dashboard/background/page.tsx ---


--- DOSYA BAÅLANGICI: app/dashboard/copywriter/page.tsx ---
"use client";

import { useState, useRef, useEffect } from "react";
import { supabase } from "@/lib/supabase";
import { useRouter } from "next/navigation";

export default function CopywriterPage() {
  const [user, setUser] = useState<any>(null);
  const [processing, setProcessing] = useState(false);
  
  const [uploadedImage, setUploadedImage] = useState<string | null>(null);
  const [platform, setPlatform] = useState("instagram");
  const [tone, setTone] = useState("samimi"); // Samimi, Kurumsal, Hype
  const [generatedText, setGeneratedText] = useState("");
  
  const fileInputRef = useRef<HTMLInputElement>(null);
  const router = useRouter();

  useEffect(() => {
    async function getUser() {
      const { data: { session } } = await supabase.auth.getSession();
      if (!session) { router.push("/login"); return; }
      setUser(session.user);
    }
    getUser();
  }, [router]);

  const handleFileUpload = (event: React.ChangeEvent<HTMLInputElement>) => {
    if (!event.target.files || !event.target.files[0]) return;
    const file = event.target.files[0];
    setUploadedImage(URL.createObjectURL(file));
    setGeneratedText(""); // Yeni resim gelince eski metni sil
  };

  const handleGenerate = async () => {
    if (!uploadedImage || !user) return;
    setProcessing(true);

    try {
      const { data: profile } = await supabase.from("profiles").select("credits").eq("id", user.id).single();
      
      // Metin yazmak daha ucuz olsun (0.5 kredi gibi) veya ÅŸimdilik 1 kredi
      if (profile && profile.credits < 1) {
        alert("Yetersiz Kredi!");
        setProcessing(false);
        return;
      }

      // SÄ°MÃœLASYON: GerÃ§ekte burasÄ± resmi GPT-4 Vision'a gÃ¶nderip analiz ettirecek.
      setTimeout(async () => {
        if (profile) {
            await supabase.from("profiles").update({ credits: profile.credits - 1 }).eq("id", user.id);
        }

        let demoText = "";
        
        // Platforma GÃ¶re Senaryolar
        if (platform === "instagram") {
            demoText = `âœ¨ Bu sezonun favori parÃ§asÄ± stoklarda! âœ¨\n\nKombinlerinize ÅŸÄ±klÄ±k katacak bu Ã¶zel tasarÄ±m, hem gÃ¼nlÃ¼k kullanÄ±mda hem de Ã¶zel davetlerde kurtarÄ±cÄ±nÄ±z olacak. YumuÅŸak dokusu ve modern kesimiyle Ã¼zerinizden Ã§Ä±karmak istemeyeceksiniz. ğŸ˜\n\nâœ… SÄ±nÄ±rlÄ± stok\nâœ… HÄ±zlÄ± kargo\nâœ… Åeffaf kargo imkanÄ±\n\nğŸ‘‡ SipariÅŸ iÃ§in DM veya link profilde!\n\n#moda #trend #kombin #yenisezon #butik #tarz`;
        } else if (platform === "trendyol") {
            demoText = `ÃœrÃ¼n Ã–zellikleri:\n- KumaÅŸ Tipi: %100 Pamuklu Dokuma\n- KalÄ±p: Regular Fit (Rahat Kesim)\n- Manken Bilgisi: Boy: 1.75, Kilo: 58, Beden: S\n\nGÃ¼nlÃ¼k kullanÄ±ma uygun, terletmeyen Ã¶zel kumaÅŸÄ± ile gÃ¼n boyu konfor saÄŸlar. 30 derecede yÄ±kanmasÄ± Ã¶nerilir. TÃ¼rkiye'de Ã¼retilmiÅŸtir.\n\nSEO Anahtar Kelimeler: KadÄ±n giyim, yazlÄ±k elbise, pamuklu tiÅŸÃ¶rt, gÃ¼nlÃ¼k kombin.`;
        } else {
            demoText = `Global Trend Alert! ğŸŒ\n\nDiscover the ultimate comfort meets style. Perfect for your capsule wardrobe. \n\nğŸŒ¿ Sustainable materials\nâœˆï¸ Worldwide Shipping\n\nShop now at butikmodel.ai`;
        }

        setGeneratedText(demoText);
        setProcessing(false);
      }, 3000);

    } catch (error) {
      alert("Hata oluÅŸtu.");
      setProcessing(false);
    }
  };

  const copyToClipboard = () => {
    navigator.clipboard.writeText(generatedText);
    alert("Metin kopyalandÄ±! ğŸ‰");
  };

  return (
    <div className="p-8 min-h-screen font-sans pb-20">
      <div className="mb-8">
        <h1 className="text-3xl font-bold text-gray-900">AkÄ±llÄ± Metin YazarÄ± âœï¸</h1>
        <p className="text-gray-500 mt-2">ÃœrÃ¼n fotoÄŸrafÄ±nÄ± yÃ¼kle, yapay zeka senin iÃ§in satÄ±ÅŸ odaklÄ± aÃ§Ä±klama yazsÄ±n.</p>
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
        
        {/* SOL: GÄ°RDÄ°LER */}
        <div className="space-y-6">
          
          {/* Resim YÃ¼kleme */}
          <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
            <h3 className="font-bold text-gray-800 mb-4">ÃœrÃ¼n FotoÄŸrafÄ±</h3>
            <div 
              onClick={() => fileInputRef.current?.click()}
              className={`relative aspect-video border-2 border-dashed rounded-xl flex flex-col items-center justify-center cursor-pointer transition-all overflow-hidden ${uploadedImage ? 'border-green-500' : 'border-gray-300 hover:border-blue-500 hover:bg-blue-50'}`}
            >
              <input type="file" ref={fileInputRef} onChange={handleFileUpload} className="hidden" accept="image/*" />
              {uploadedImage ? (
                <img src={uploadedImage} className="w-full h-full object-contain bg-gray-50" />
              ) : (
                <div className="text-center">
                  <span className="text-3xl">ğŸ“·</span>
                  <p className="text-sm text-gray-500 mt-2">FotoÄŸraf SeÃ§</p>
                </div>
              )}
            </div>
          </div>

          {/* Ayarlar */}
          <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
            <h3 className="font-bold text-gray-800 mb-4">Metin AyarlarÄ±</h3>
            
            <div className="space-y-4">
              <div>
                <label className="block text-xs font-bold text-gray-500 mb-2">Platform</label>
                <div className="flex gap-2">
                  {['instagram', 'trendyol', 'global'].map((p) => (
                    <button 
                      key={p}
                      onClick={() => setPlatform(p)}
                      className={`flex-1 py-2 rounded-lg text-sm font-bold capitalize transition-all ${platform === p ? 'bg-black text-white' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`}
                    >
                      {p}
                    </button>
                  ))}
                </div>
              </div>

              <div>
                <label className="block text-xs font-bold text-gray-500 mb-2">Dil & Ton</label>
                <select 
                  className="w-full p-3 bg-gray-50 rounded-lg border border-gray-200 text-sm"
                  value={tone}
                  onChange={(e) => setTone(e.target.value)}
                >
                  <option value="samimi">Samimi & Emoji Dolu (Instagram)</option>
                  <option value="kurumsal">Resmi & Bilgi OdaklÄ± (Pazaryeri)</option>
                  <option value="hype">HeyecanlÄ± & Aciliyet (Kampanya)</option>
                </select>
              </div>
            </div>

            <button 
              onClick={handleGenerate}
              disabled={!uploadedImage || processing}
              className="w-full mt-6 bg-indigo-600 text-white py-4 rounded-xl font-bold shadow-lg hover:bg-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-2"
            >
              {processing ? "Yazar DÃ¼ÅŸÃ¼nÃ¼yor..." : "âœ¨ Metni Yaz (1 Kredi)"}
            </button>
          </div>
        </div>

        {/* SAÄ: SONUÃ‡ */}
        <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 h-full flex flex-col">
          <div className="flex justify-between items-center mb-4">
             <h3 className="font-bold text-gray-800">OluÅŸturulan Metin</h3>
             {generatedText && (
               <button onClick={copyToClipboard} className="text-xs bg-green-100 text-green-700 px-3 py-1 rounded-full font-bold hover:bg-green-200 transition-colors">
                 Kopyala
               </button>
             )}
          </div>

          <div className="flex-1 relative">
             <textarea 
               value={generatedText}
               onChange={(e) => setGeneratedText(e.target.value)}
               placeholder="SonuÃ§ burada gÃ¶rÃ¼necek..."
               className="w-full h-full p-4 bg-gray-50 border border-gray-200 rounded-xl text-sm leading-relaxed resize-none focus:ring-2 focus:ring-indigo-500 outline-none font-medium text-gray-700"
             />
             {processing && (
               <div className="absolute inset-0 bg-white/80 flex items-center justify-center backdrop-blur-sm rounded-xl">
                 <div className="text-center">
                    <div className="text-4xl animate-bounce mb-2">âœï¸</div>
                    <p className="text-indigo-600 font-bold animate-pulse">Kalem oynatÄ±lÄ±yor...</p>
                 </div>
               </div>
             )}
          </div>
          
          <p className="text-xs text-gray-400 mt-4 text-center">
            *Metni dÃ¼zenleyebilir, hashtag ekleyip Ã§Ä±karabilirsiniz.
          </p>
        </div>

      </div>
    </div>
  );
}
--- DOSYA SONU: app/dashboard/copywriter/page.tsx ---


--- DOSYA BAÅLANGICI: app/dashboard/ghost/page.tsx ---
"use client";

import { useState, useRef } from "react";
import Link from "next/link";

export default function GhostPage() {
  const [loading, setLoading] = useState(false);
  const [uploadedImage, setUploadedImage] = useState<string | null>(null);
  const [resultImage, setResultImage] = useState<string | null>(null);
  
  // Ayarlar
  const [bgType, setBgType] = useState<'transparent' | 'white'>('white');
  const [sliderPosition, setSliderPosition] = useState(50); // KarÅŸÄ±laÅŸtÄ±rma Ã§izgisi
  
  const fileInputRef = useRef<HTMLInputElement>(null);

  const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {
    if (e.target.files && e.target.files[0]) {
      setUploadedImage(URL.createObjectURL(e.target.files[0]));
      setResultImage(null); // Yeni resim gelince sonucu sÄ±fÄ±rla
    }
  };

  const handleProcess = () => {
    if (!uploadedImage) return;
    setLoading(true);

    // SÄ°MÃœLASYON: GerÃ§ek API baÄŸlanÄ±nca burasÄ± deÄŸiÅŸecek
    setTimeout(() => {
      // Demo olarak aynÄ± resmi dÃ¶ndÃ¼rÃ¼yoruz ama gerÃ§ekte dekupe edilmiÅŸ hali gelecek
      // Burada gÃ¶rsel efekti gÃ¶stermek iÃ§in Unsplash'ten 'ceket' gÃ¶rseli kullanÄ±yorum
      setResultImage("https://images.unsplash.com/photo-1591047139829-d91aecb6caea?w=600&h=800&fit=crop"); 
      setLoading(false);
    }, 2500);
  };

  return (
    <div className="p-8 min-h-screen font-sans pb-20 max-w-7xl mx-auto">
      
      {/* BAÅLIK */}
      <div className="flex flex-col md:flex-row justify-between items-end mb-8 border-b border-gray-100 pb-6">
        <div>
           <h1 className="text-3xl font-bold text-gray-900">Hayalet Manken ğŸ‘»</h1>
           <p className="text-gray-500 mt-2">Mankeni fotoÄŸraftan sil, e-ticaret iÃ§in tertemiz Ã¼rÃ¼n gÃ¶rseli al.</p>
        </div>
        <div className="mt-4 md:mt-0 flex gap-2">
           <span className="text-xs font-bold text-gray-400 border border-gray-200 px-3 py-1 rounded-full uppercase tracking-wider">
             MOD: {bgType === 'white' ? 'BEYAZ FON (Trendyol)' : 'ÅEFFAF (PNG)'}
           </span>
        </div>
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-2 gap-12">
        
        {/* SOL: YÃœKLEME VE AYARLAR */}
        <div className="space-y-8">
           
           {/* 1. FOTOÄRAF YÃœKLEME */}
           <div className="bg-white p-8 rounded-3xl shadow-sm border border-gray-100 text-center">
              {!uploadedImage ? (
                <div 
                  onClick={() => fileInputRef.current?.click()}
                  className="border-2 border-dashed border-gray-200 rounded-2xl p-12 cursor-pointer hover:bg-gray-50 hover:border-black transition-all group"
                >
                   <input type="file" ref={fileInputRef} onChange={handleFileUpload} className="hidden" accept="image/*" />
                   <span className="text-6xl mb-4 block group-hover:scale-110 transition-transform">ğŸ§¥</span>
                   <h3 className="font-bold text-gray-900 text-lg">Mankenli FotoÄŸrafÄ± YÃ¼kle</h3>
                   <p className="text-gray-500 text-sm mt-2">JPEG veya PNG. Maksimum 5MB.</p>
                   <button className="mt-6 bg-black text-white px-6 py-2 rounded-full text-sm font-bold group-hover:bg-gray-800">
                     FotoÄŸraf SeÃ§
                   </button>
                </div>
              ) : (
                <div className="relative rounded-2xl overflow-hidden border border-gray-200 group">
                   <img src={uploadedImage} className="w-full h-[400px] object-contain bg-gray-50" />
                   <button 
                     onClick={() => {setUploadedImage(null); setResultImage(null);}}
                     className="absolute top-4 right-4 bg-white/90 text-red-500 p-2 rounded-full shadow-lg hover:bg-red-500 hover:text-white transition-all"
                   >
                     <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                   </button>
                </div>
              )}
           </div>

           {/* 2. AYARLAR & Ä°ÅLEM */}
           <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
              <h3 className="font-bold text-gray-900 mb-4">Ã‡Ä±ktÄ± AyarlarÄ±</h3>
              
              <div className="flex gap-4 mb-8">
                 <button 
                   onClick={() => setBgType('white')}
                   className={`flex-1 py-4 px-4 rounded-xl border-2 text-sm font-bold flex flex-col items-center gap-2 transition-all ${bgType === 'white' ? 'border-black bg-gray-50 text-black' : 'border-gray-100 text-gray-400 hover:border-gray-300'}`}
                 >
                    <div className="w-6 h-6 bg-white border border-gray-200 rounded-full"></div>
                    Beyaz Arkaplan
                 </button>
                 <button 
                   onClick={() => setBgType('transparent')}
                   className={`flex-1 py-4 px-4 rounded-xl border-2 text-sm font-bold flex flex-col items-center gap-2 transition-all ${bgType === 'transparent' ? 'border-black bg-gray-50 text-black' : 'border-gray-100 text-gray-400 hover:border-gray-300'}`}
                 >
                    <div className="w-6 h-6 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] border border-gray-200 rounded-full opacity-50"></div>
                    Åeffaf (PNG)
                 </button>
              </div>

              <button 
                onClick={handleProcess}
                disabled={!uploadedImage || loading}
                className="w-full bg-blue-600 text-white py-4 rounded-xl font-bold shadow-lg shadow-blue-200 hover:bg-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"
              >
                {loading ? (
                  <>
                    <span className="w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"></span>
                    Manken Siliniyor...
                  </>
                ) : (
                  <>
                    <span>âœ¨ Sihri Uygula (1 Kredi)</span>
                  </>
                )}
              </button>
           </div>
        </div>

        {/* SAÄ: SONUÃ‡ GÃ–RÃœNTÃœLEME (SLIDER) */}
        <div className="bg-gray-50 rounded-3xl border border-gray-200 p-2 flex flex-col h-full min-h-[500px]">
           {resultImage && uploadedImage ? (
             <div className="relative w-full h-full flex-1 rounded-2xl overflow-hidden cursor-ew-resize select-none"
                  onMouseMove={(e) => {
                    const rect = e.currentTarget.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    setSliderPosition((x / rect.width) * 100);
                  }}
                  onTouchMove={(e) => {
                    const rect = e.currentTarget.getBoundingClientRect();
                    const x = e.touches[0].clientX - rect.left;
                    setSliderPosition((x / rect.width) * 100);
                  }}
             >
                {/* ALT KATMAN (SONUÃ‡) */}
                <img src={resultImage} className="absolute inset-0 w-full h-full object-contain bg-white" draggable="false" />
                <div className="absolute top-4 right-4 bg-green-500 text-white text-xs font-bold px-3 py-1 rounded shadow-lg z-10">SONUÃ‡</div>

                {/* ÃœST KATMAN (ORÄ°JÄ°NAL) - Clip Path ile maskelenir */}
                <div 
                  className="absolute inset-0 w-full h-full border-r-2 border-white bg-gray-100"
                  style={{ clipPath: `polygon(0 0, ${sliderPosition}% 0, ${sliderPosition}% 100%, 0 100%)` }}
                >
                   <img src={uploadedImage} className="absolute inset-0 w-full h-full object-contain" draggable="false" />
                   <div className="absolute top-4 left-4 bg-black/70 text-white text-xs font-bold px-3 py-1 rounded backdrop-blur-md">ORÄ°JÄ°NAL</div>
                </div>

                {/* SÃœRÃœKLEME Ã‡UBUÄU */}
                <div 
                  className="absolute inset-y-0 w-8 h-8 bg-white rounded-full shadow-xl flex items-center justify-center text-gray-400 z-20 top-1/2 -translate-y-1/2 -ml-4 pointer-events-none"
                  style={{ left: `${sliderPosition}%` }}
                >
                  â†”
                </div>

                <div className="absolute bottom-6 left-1/2 -translate-x-1/2 z-30 flex gap-4">
                   <button className="bg-white text-black px-6 py-2 rounded-full font-bold shadow-xl hover:scale-105 transition-transform text-sm">
                     â¬‡ï¸ Ä°ndir (HD)
                   </button>
                </div>
             </div>
           ) : (
             <div className="h-full flex flex-col items-center justify-center text-gray-400 p-10 text-center">
                <div className="w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center text-4xl mb-4">ğŸ‘»</div>
                <h3 className="text-gray-900 font-bold text-lg">Ã–nizleme AlanÄ±</h3>
                <p className="text-sm mt-2 max-w-xs">Sol taraftan fotoÄŸraf yÃ¼kleyip iÅŸlemi baÅŸlattÄ±ÄŸÄ±nda sonuÃ§ burada gÃ¶rÃ¼necek.</p>
             </div>
           )}
        </div>

      </div>
    </div>
  );
}
--- DOSYA SONU: app/dashboard/ghost/page.tsx ---


--- DOSYA BAÅLANGICI: app/dashboard/layout.tsx ---
"use client";

import Sidebar from "@/components/Sidebar";

export default function DashboardLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <div className="flex min-h-screen bg-gray-50">
      {/* Sidebar ArtÄ±k Sadece Burada */}
      <Sidebar />
      
      {/* Ä°Ã§erik AlanÄ± */}
      <main className="flex-1 overflow-y-auto h-screen">
        {children}
      </main>
    </div>
  );
}
--- DOSYA SONU: app/dashboard/layout.tsx ---


--- DOSYA BAÅLANGICI: app/dashboard/model/page.tsx ---
"use client";
import { useState, useRef, useEffect } from "react";
import { supabase } from "@/lib/supabase";
import Link from "next/link";
import { useRouter } from "next/navigation";

// Standart Mankenler (Herkesin gÃ¶receÄŸi)
const DEMO_MODELS = [
  { id: "demo-1", name: "AyÅŸe (StÃ¼dyo)", url: "https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400&h=600&fit=crop", type: 'demo' },
  { id: "demo-2", name: "Burak (Sokak)", url: "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400&h=600&fit=crop", type: 'demo' },
];

export default function ModelPage() {
  const [user, setUser] = useState<any>(null);
  const [processing, setProcessing] = useState(false);
  const [statusMessage, setStatusMessage] = useState("");
  const [uploadedImage, setUploadedImage] = useState<string | null>(null);
  const [uploadedPath, setUploadedPath] = useState<string | null>(null);
  
  // TÃ¼m mankenlerin (Demo + KullanÄ±cÄ±) tutulacaÄŸÄ± liste
  const [allModels, setAllModels] = useState<any[]>(DEMO_MODELS);
  const [selectedModel, setSelectedModel] = useState<string | null>(null);
  
  const [resultImage, setResultImage] = useState<string | null>(null);
  const fileInputRef = useRef<HTMLInputElement>(null);
  const router = useRouter();

  useEffect(() => {
    async function initData() {
      const { data: { user } } = await supabase.auth.getUser();
      if (!user) { router.push("/login"); return; }
      setUser(user);

      // KullanÄ±cÄ±nÄ±n yÃ¼klediÄŸi Ã¶zel mankenleri Ã§ek
      const { data: userModels } = await supabase
        .from("user_models")
        .select("*")
        .eq("user_id", user.id)
        .order("created_at", { ascending: false });

      if (userModels && userModels.length > 0) {
        // VeritabanÄ±ndan gelenleri formatla
        const formattedUserModels = userModels.map((m: any) => ({
          id: m.id,
          name: m.name || "Ã–zel Manken",
          url: m.image_url,
          type: 'user' // BunlarÄ±n kullanÄ±cÄ±ya ait olduÄŸunu belirtelim
        }));

        // Listeyi birleÅŸtir: Ã–nce KullanÄ±cÄ±nÄ±nkiler, Sonra Demolar
        setAllModels([...formattedUserModels, ...DEMO_MODELS]);
      }
    }
    initData();
  }, [router]);

  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {
    if (!event.target.files || !event.target.files[0]) return;
    const file = event.target.files[0];
    
    setUploadedImage(URL.createObjectURL(file));

    try {
      const fileExt = file.name.split('.').pop();
      const fileName = `${Math.random()}.${fileExt}`;
      const { error } = await supabase.storage.from('uploads').upload(fileName, file);
      if (error) throw error;
      setUploadedPath(fileName);
    } catch (e) { alert("YÃ¼kleme hatasÄ±"); }
  };

  const handleGenerate = async () => {
    if (!user || !uploadedPath || !selectedModel) return;
    setProcessing(true);
    setStatusMessage("HazÄ±rlanÄ±yor...");

    try {
      // 1. KREDÄ° KONTROLÃœ
      const { data: profile } = await supabase.from("profiles").select("credits").eq("id", user.id).single();
      if (!profile || profile.credits < 1) throw new Error("Yetersiz Kredi!");
      
      await supabase.from("profiles").update({ credits: profile.credits - 1 }).eq("id", user.id);

      // 2. SEÃ‡Ä°LEN MANKENÄ°N URL'Ä°NÄ° BUL
      const targetModel = allModels.find(m => m.id === selectedModel);
      if (!targetModel) throw new Error("Manken bulunamadÄ±");

      setStatusMessage("Yapay zeka baÅŸlatÄ±lÄ±yor...");
      
      const { data: { publicUrl } } = supabase.storage.from('uploads').getPublicUrl(uploadedPath);

      // API'ye hem kÄ±yafeti hem de SEÃ‡Ä°LEN MANKENÄ° gÃ¶nderiyoruz
      const response = await fetch("/api/generate", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          imageUrl: publicUrl, // KÄ±yafet
          modelUrl: targetModel.url, // <-- KRÄ°TÄ°K: SeÃ§ilen mankenin resmi
          userId: user.id
        }),
      });

      const prediction = await response.json();
      if (prediction.error) throw new Error(prediction.error);

      // 3. TAKÄ°P SÄ°STEMÄ°
      setStatusMessage("Giydiriliyor... (YaklaÅŸÄ±k 20sn)");
      
      const checkInterval = setInterval(async () => {
        const checkRes = await fetch(`/api/check?id=${prediction.id}`);
        const checkData = await checkRes.json();

        if (checkData.status === "succeeded") {
          clearInterval(checkInterval);
          setResultImage(checkData.output);
          setStatusMessage("âœ… Ä°ÅŸlem TamamlandÄ±!");
          setProcessing(false);
          
          await supabase.from("generations").insert({
             user_id: user.id,
             input_image: uploadedPath,
             model_id: selectedModel,
             result_image: checkData.output,
             status: 'completed'
          });
        } else if (checkData.status === "failed") {
          clearInterval(checkInterval);
          setStatusMessage("âŒ Ä°ÅŸlem baÅŸarÄ±sÄ±z.");
          setProcessing(false);
        }
      }, 3000);

    } catch (error: any) {
      alert("Hata: " + error.message);
      setProcessing(false);
      setStatusMessage("");
    }
  };

  return (
    <div className="min-h-screen bg-gray-50 flex flex-col font-sans">
      {/* ÃœST BAR */}
      <div className="bg-white border-b px-6 py-4 flex justify-between items-center sticky top-0 z-10 shadow-sm">
        <Link href="/dashboard" className="text-gray-500 font-bold hover:text-black">â† Geri</Link>
        <div className={`text-sm font-bold px-4 py-1.5 rounded-full transition-all ${resultImage ? "bg-green-100 text-green-700" : "bg-blue-50 text-blue-700"}`}>
            {statusMessage || (resultImage ? "SonuÃ§ HazÄ±r" : "StÃ¼dyo Modu")}
        </div>
      </div>

      <div className="flex-1 flex flex-col lg:flex-row max-w-7xl mx-auto w-full p-6 gap-8">
        
        {/* SOL PANEL */}
        <div className="w-full lg:w-1/3 space-y-6 h-fit">
          
          {/* ADIM 1: KIYAFET */}
          <div className="bg-white p-5 rounded-2xl border border-gray-200 shadow-sm">
            <h3 className="font-bold mb-3 text-gray-800">1. KÄ±yafet YÃ¼kle</h3>
            <div onClick={() => fileInputRef.current?.click()} className="border-2 border-dashed border-gray-300 rounded-xl h-40 flex items-center justify-center cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition overflow-hidden bg-gray-50">
               <input type="file" ref={fileInputRef} onChange={handleFileUpload} className="hidden" accept="image/*" />
               {uploadedImage ? <img src={uploadedImage} className="w-full h-full object-contain" /> : <span className="text-gray-400">FotoÄŸraf SeÃ§ +</span>}
            </div>
          </div>

          {/* ADIM 2: MANKEN SEÃ‡Ä°MÄ° (GÃœNCELLENDÄ°) ğŸš€ */}
          <div className="bg-white p-5 rounded-2xl border border-gray-200 shadow-sm">
            <div className="flex justify-between items-center mb-3">
               <h3 className="font-bold text-gray-800">2. Manken SeÃ§</h3>
               <Link href="/dashboard/my-models" className="text-xs text-blue-600 font-bold hover:underline">+ Yeni Ekle</Link>
            </div>
            
            <div className="grid grid-cols-3 gap-3 max-h-60 overflow-y-auto pr-1 custom-scrollbar">
              {allModels.map(m => (
                <div 
                  key={m.id} 
                  onClick={() => setSelectedModel(m.id)} 
                  className={`relative aspect-[3/4] rounded-lg overflow-hidden cursor-pointer border-2 transition-all group ${selectedModel === m.id ? 'border-blue-600 ring-2 ring-blue-100' : 'border-gray-100'}`}
                >
                  <img src={m.url} className="w-full h-full object-cover" />
                  {/* KullanÄ±cÄ± Modeli Etiketi */}
                  {m.type === 'user' && (
                    <div className="absolute top-1 right-1 bg-black/60 backdrop-blur-sm p-1 rounded-full">
                       <span className="text-xs text-white">ğŸ‘¤</span>
                    </div>
                  )}
                  {/* SeÃ§ili Ä°konu */}
                  {selectedModel === m.id && (
                    <div className="absolute inset-0 bg-blue-600/20 flex items-center justify-center">
                       <div className="bg-white rounded-full p-1 shadow-lg"><span className="text-blue-600 font-bold">âœ“</span></div>
                    </div>
                  )}
                  <p className="absolute bottom-0 w-full bg-gradient-to-t from-black/80 to-transparent text-white text-[10px] text-center p-1 truncate">
                    {m.name}
                  </p>
                </div>
              ))}
            </div>
          </div>

          <button 
            onClick={handleGenerate} 
            disabled={!uploadedImage || !selectedModel || processing}
            className="w-full py-4 bg-black text-white rounded-xl font-bold shadow-lg hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all active:scale-95"
          >
            {processing ? "Ä°ÅŸleniyor..." : "âœ¨ Manken Giydir (1 Kredi)"}
          </button>
        </div>

        {/* SAÄ PANEL (SONUÃ‡) */}
        <div className="w-full lg:w-2/3 bg-white rounded-2xl border border-gray-200 shadow-sm flex items-center justify-center min-h-[500px] relative overflow-hidden">
           {/* Arka Plan Deseni */}
           <div className="absolute inset-0 opacity-[0.03]" style={{backgroundImage: 'radial-gradient(#000 1px, transparent 1px)', backgroundSize: '20px 20px'}}></div>
           
           {resultImage ? (
             <div className="relative z-10">
                <img src={resultImage} className="max-h-[600px] shadow-2xl rounded-lg animate-in fade-in zoom-in duration-500" />
                <a href={resultImage} download className="absolute bottom-4 right-4 bg-white text-black px-4 py-2 rounded-lg shadow-lg font-bold text-sm hover:bg-gray-100">
                  â¬‡ï¸ Ä°ndir
                </a>
             </div>
           ) : (
             <div className="text-center text-gray-400">
               <span className="text-6xl block mb-4 opacity-20">ğŸ“¸</span>
               <p>{statusMessage || "KÄ±yafet ve manken seÃ§ip butona basÄ±n."}</p>
             </div>
           )}
        </div>

      </div>
    </div>
  );
}
--- DOSYA SONU: app/dashboard/model/page.tsx ---


--- DOSYA BAÅLANGICI: app/dashboard/my-models/page.tsx ---
"use client";

import { useState, useEffect } from "react";
import { supabase } from "@/lib/supabase";
import Link from "next/link";
import { useRouter } from "next/navigation";

export default function MyModelsPage() {
  const [loading, setLoading] = useState(false);
  const [saving, setSaving] = useState(false);
  const [myModels, setMyModels] = useState<any[]>([]);
  
  // PARAMETRELER
  const [attributes, setAttributes] = useState({
    gender: "KadÄ±n",
    age: "GenÃ§ (20-25)",
    ethnicity: "TÃ¼rk / Akdeniz",
    hairColor: "Kahverengi",
    hairStyle: "Uzun DÃ¼z",
    eyeColor: "Ela",
    bodySize: "Fit / Atletik",
    height: "Orta Boy"
  });

  const [generatedImage, setGeneratedImage] = useState<string | null>(null);
  const [modelName, setModelName] = useState("");
  const router = useRouter();

  useEffect(() => {
    fetchModels();
  }, []);

  const fetchModels = async () => {
    const { data: { user } } = await supabase.auth.getUser();
    if (user) {
      const { data } = await supabase
        .from("user_models")
        .select("*")
        .eq("user_id", user.id) // Sadece kendi Ã¼rettiklerini gÃ¶rsÃ¼n
        .order("created_at", { ascending: false });
      if (data) setMyModels(data);
    }
  };

  const handleGenerate = async () => {
    setLoading(true);
    
    // Prompt MantÄ±ÄŸÄ±
    let bodyPrompt = "fit body";
    if (attributes.bodySize === "ZayÄ±f / Ä°nce") bodyPrompt = "slim skinny body model";
    if (attributes.bodySize === "BalÄ±k Etli / KÄ±vrÄ±mlÄ±") bodyPrompt = "curvy volumetric body shape";
    if (attributes.bodySize === "BÃ¼yÃ¼k Beden (Plus Size)") bodyPrompt = "plus size full figure model";
    if (attributes.bodySize === "KaslÄ± / YapÄ±lÄ±") bodyPrompt = "muscular athletic body";

    const prompt = `Professional studio full body shot of a ${attributes.age} year old ${attributes.ethnicity} ${attributes.gender}, ${bodyPrompt}, ${attributes.height}, ${attributes.hairStyle} ${attributes.hairColor} hair, ${attributes.eyeColor} eyes, hyper realistic, 8k, fashion photography, neutral background`;
    
    console.log("ğŸ§¬ DNA KodlanÄ±yor:", prompt);
    
    // SÄ°MÃœLASYON
    setTimeout(() => {
      const demoImages = [
        "https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=500&h=600&fit=crop",
        "https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=500&h=600&fit=crop",
        "https://images.unsplash.com/photo-1581044777550-4cfa60707c03?w=500&h=600&fit=crop",
        "https://images.unsplash.com/photo-1616805763608-8f643e887d46?w=500&h=600&fit=crop"
      ];
      setGeneratedImage(demoImages[Math.floor(Math.random() * demoImages.length)]);
      setLoading(false);
    }, 2500);
  };

  const handleSave = async () => {
    if (!generatedImage || !modelName) return alert("LÃ¼tfen mankene bir isim verin!");
    setSaving(true);
    
    const { data: { user } } = await supabase.auth.getUser();
    if (!user) return;

    const { error } = await supabase.from("user_models").insert({
      user_id: user.id,
      name: modelName,
      image_url: generatedImage,
      attributes: attributes
    });

    if (error) {
      alert("Hata: " + error.message);
    } else {
      setGeneratedImage(null);
      setModelName("");
      fetchModels(); // Listeyi gÃ¼ncelle
      // KullanÄ±cÄ±yÄ± bilgilendir ama sayfada tut, belki yeni Ã¼retecek
      alert("Manken koleksiyonuna eklendi! ğŸ‰"); 
    }
    setSaving(false);
  };

  const handleDelete = async (id: string) => {
    if(!confirm("Bu mankeni silmek istediÄŸine emin misin?")) return;
    await supabase.from("user_models").delete().eq("id", id);
    fetchModels();
  };

  return (
    <div className="p-8 min-h-screen font-sans pb-20 max-w-7xl mx-auto">
      
      {/* BAÅLIK */}
      <div className="flex flex-col md:flex-row justify-between items-end mb-8 border-b border-gray-100 pb-6">
        <div>
           <h1 className="text-3xl font-bold text-gray-900">Manken FabrikasÄ± ğŸ§¬</h1>
           <p className="text-gray-500 mt-2">Hayalindeki marka yÃ¼zÃ¼nÃ¼ yapay zeka ile sÄ±fÄ±rdan tasarla.</p>
        </div>
        <div className="mt-4 md:mt-0">
           <Link href="/dashboard/studio" className="text-sm font-bold text-blue-600 hover:underline">
             StÃ¼dyoya DÃ¶n â†’
           </Link>
        </div>
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-12 gap-8">
        
        {/* SOL: KONTROL PANELÄ° (4 birim) */}
        <div className="lg:col-span-4 space-y-6">
          <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
            <h3 className="font-bold text-gray-900 mb-6 flex items-center gap-2">
              <span className="w-2 h-6 bg-black rounded-full"></span>
              DNA AyarlarÄ±
            </h3>
            
            <div className="space-y-5">
              
              {/* VÃ¼cut Tipi */}
              <div className="bg-gray-50 p-4 rounded-xl border border-gray-100">
                <label className="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2">VÃ¼cut Tipi</label>
                <select 
                  className="w-full p-2.5 bg-white rounded-lg border border-gray-200 text-sm font-medium focus:ring-2 focus:ring-black outline-none"
                  value={attributes.bodySize}
                  onChange={(e) => setAttributes({...attributes, bodySize: e.target.value})}
                >
                  <option>ZayÄ±f / Ä°nce</option>
                  <option>Fit / Atletik</option>
                  <option>BalÄ±k Etli / KÄ±vrÄ±mlÄ±</option>
                  <option>KaslÄ± / YapÄ±lÄ±</option>
                  <option>BÃ¼yÃ¼k Beden (Plus Size)</option>
                </select>
              </div>

              <div className="grid grid-cols-2 gap-4">
                 <div>
                   <label className="block text-xs font-bold text-gray-400 mb-1">Cinsiyet</label>
                   <select className="w-full p-2.5 bg-white rounded-lg border text-sm" value={attributes.gender} onChange={(e) => setAttributes({...attributes, gender: e.target.value})}>
                     <option>KadÄ±n</option>
                     <option>Erkek</option>
                   </select>
                 </div>
                 <div>
                   <label className="block text-xs font-bold text-gray-400 mb-1">Boy</label>
                   <select className="w-full p-2.5 bg-white rounded-lg border text-sm" value={attributes.height} onChange={(e) => setAttributes({...attributes, height: e.target.value})}>
                     <option>KÄ±sa</option>
                     <option>Orta Boy</option>
                     <option>Uzun</option>
                   </select>
                 </div>
              </div>

              <div>
                <label className="block text-xs font-bold text-gray-400 mb-1">Etnik KÃ¶ken</label>
                <select className="w-full p-2.5 bg-white rounded-lg border text-sm" value={attributes.ethnicity} onChange={(e) => setAttributes({...attributes, ethnicity: e.target.value})}>
                  <option>TÃ¼rk / Akdeniz</option>
                  <option>Kuzey Avrupa (SarÄ±ÅŸÄ±n)</option>
                  <option>DoÄŸu Asya</option>
                  <option>Afro-Amerikan</option>
                  <option>Latin</option>
                  <option>Arap / Orta DoÄŸu</option>
                </select>
              </div>

              <div>
                <label className="block text-xs font-bold text-gray-400 mb-1">YaÅŸ Grubu</label>
                <select className="w-full p-2.5 bg-white rounded-lg border text-sm" value={attributes.age} onChange={(e) => setAttributes({...attributes, age: e.target.value})}>
                  <option>GenÃ§ (18-24)</option>
                  <option>YetiÅŸkin (25-35)</option>
                  <option>Olgun (35-45)</option>
                </select>
              </div>

              <div className="grid grid-cols-2 gap-4">
                <div>
                   <label className="block text-xs font-bold text-gray-400 mb-1">SaÃ§</label>
                   <select className="w-full p-2.5 bg-white rounded-lg border text-sm" onChange={(e) => setAttributes({...attributes, hairColor: e.target.value})}>
                     <option>Kahverengi</option>
                     <option>Siyah</option>
                     <option>SarÄ±</option>
                     <option>KÄ±zÄ±l</option>
                   </select>
                </div>
                <div>
                   <label className="block text-xs font-bold text-gray-400 mb-1">GÃ¶z</label>
                   <select className="w-full p-2.5 bg-white rounded-lg border text-sm" onChange={(e) => setAttributes({...attributes, eyeColor: e.target.value})}>
                     <option>Ela</option>
                     <option>Kahve</option>
                     <option>Mavi</option>
                     <option>YeÅŸil</option>
                   </select>
                </div>
              </div>
            </div>

            <button 
              onClick={handleGenerate}
              disabled={loading}
              className="w-full mt-8 bg-black text-white py-4 rounded-xl font-bold hover:bg-gray-800 transition-all shadow-lg hover:shadow-xl hover:-translate-y-1 flex justify-center items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"
            >
              {loading ? (
                <>
                  <span className="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></span>
                  DNA Ä°ÅŸleniyor...
                </>
              ) : (
                <>
                  <span>âš¡ï¸ Ãœretimi BaÅŸlat</span>
                </>
              )}
            </button>
          </div>
        </div>

        {/* ORTA: Ã–NÄ°ZLEME (4 birim) */}
        <div className="lg:col-span-4 flex flex-col">
           <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex-1 flex flex-col relative h-full min-h-[500px]">
             <h3 className="font-bold text-gray-900 mb-4 text-center">Laboratuvar Sonucu</h3>
             
             <div className="flex-1 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200 flex items-center justify-center overflow-hidden relative group">
                {loading ? (
                   <div className="text-center">
                      <div className="text-5xl animate-bounce mb-4">ğŸ§¬</div>
                      <p className="text-gray-400 font-medium">Yapay zeka doku Ã¶rneÄŸi oluÅŸturuyor...</p>
                   </div>
                ) : generatedImage ? (
                   <>
                     <img src={generatedImage} className="w-full h-full object-cover" />
                     <div className="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-4">
                        <span className="text-white text-xs font-mono">{attributes.ethnicity}, {attributes.bodySize}</span>
                     </div>
                   </>
                ) : (
                   <div className="text-center text-gray-400 p-8">
                      <span className="text-4xl opacity-20 block mb-2">ğŸ‘¤</span>
                      <p>Ã–zellikleri seÃ§ ve Ã¼retim butonuna bas.</p>
                   </div>
                )}
             </div>

             {generatedImage && !loading && (
               <div className="mt-6 space-y-3 animate-in slide-in-from-bottom-4">
                  <input 
                    type="text" 
                    placeholder="Mankene Ä°sim Ver (Ã–rn: Leyla)" 
                    className="w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-bold text-center focus:ring-2 focus:ring-blue-500 outline-none"
                    value={modelName}
                    onChange={(e) => setModelName(e.target.value)}
                  />
                  <button 
                    onClick={handleSave}
                    disabled={saving}
                    className="w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200"
                  >
                    {saving ? "Kaydediliyor..." : "ğŸ’¾ Koleksiyona Ekle"}
                  </button>
               </div>
             )}
           </div>
        </div>

        {/* SAÄ: KOLEKSÄ°YON (4 birim) */}
        <div className="lg:col-span-4 flex flex-col h-full">
           <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 h-full flex flex-col">
              <div className="flex justify-between items-center mb-4">
                 <h3 className="font-bold text-gray-900">Koleksiyonum ({myModels.length})</h3>
                 <span className="text-xs text-gray-400">Son Eklenenler</span>
              </div>

              <div className="flex-1 overflow-y-auto pr-2 custom-scrollbar space-y-3 max-h-[600px]">
                 {myModels.map((model) => (
                   <div key={model.id} className="flex gap-3 p-3 rounded-xl border border-gray-100 hover:border-blue-200 hover:bg-blue-50 transition-all group relative bg-gray-50/50">
                      <img src={model.image_url} className="w-16 h-16 rounded-lg object-cover bg-gray-200" />
                      <div className="flex-1 min-w-0">
                         <h4 className="font-bold text-sm text-gray-900 truncate">{model.name}</h4>
                         <p className="text-xs text-gray-500 truncate mt-0.5">{model.attributes?.bodySize}</p>
                         <p className="text-[10px] text-gray-400 mt-0.5">{new Date(model.created_at).toLocaleDateString("tr-TR")}</p>
                      </div>
                      <button 
                        onClick={() => handleDelete(model.id)}
                        className="self-center p-2 text-gray-300 hover:text-red-500 transition-colors"
                        title="Sil"
                      >
                        <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                      </button>
                   </div>
                 ))}

                 {myModels.length === 0 && (
                   <div className="text-center py-12 border-2 border-dashed border-gray-100 rounded-xl">
                      <p className="text-gray-400 text-sm">HenÃ¼z manken Ã¼retmedin.</p>
                   </div>
                 )}
              </div>
           </div>
        </div>

      </div>
    </div>
  );
}
--- DOSYA SONU: app/dashboard/my-models/page.tsx ---


--- DOSYA BAÅLANGICI: app/dashboard/page.tsx ---
"use client";

import { useEffect, useState } from "react";
import { supabase } from "@/lib/supabase";
import { useRouter } from "next/navigation";
import Link from "next/link";
import { motion } from "framer-motion"; // EKLENDÄ°

export default function DashboardHome() {
  const [user, setUser] = useState<any>(null);
  const [profile, setProfile] = useState<any>(null);
  const [loading, setLoading] = useState(true);
  const [modelCount, setModelCount] = useState(0);
  
  const router = useRouter();

  useEffect(() => {
    async function getData() {
      const { data: { session } } = await supabase.auth.getSession();
      if (!session) { router.push("/login"); return; }
      setUser(session.user);

      const { data: profileData } = await supabase
        .from("profiles")
        .select("*")
        .eq("id", session.user.id)
        .single();
      
      setProfile(profileData);

      const { count } = await supabase
        .from("user_models")
        .select("*", { count: 'exact', head: true })
        .eq("user_id", session.user.id);
      
      setModelCount(count || 0);
      setLoading(false);
    }
    getData();
  }, [router]);

  if (loading) return (
    <div className="flex items-center justify-center h-screen bg-gray-50">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-black"></div>
    </div>
  );

  // Animasyon varyasyonlarÄ±
  const container = {
    hidden: { opacity: 0 },
    show: {
      opacity: 1,
      transition: {
        staggerChildren: 0.1 // Elemanlar sÄ±rayla gelsin
      }
    }
  };

  const item = {
    hidden: { opacity: 0, y: 20 },
    show: { opacity: 1, y: 0 }
  };

  return (
    <motion.div 
      variants={container}
      initial="hidden"
      animate="show"
      className="p-8 min-h-screen font-sans pb-20 max-w-7xl mx-auto"
    >
      
      {/* 1. ÃœST BAÅLIK */}
      <motion.div variants={item} className="flex flex-col md:flex-row justify-between items-end mb-10 pb-6 border-b border-gray-100">
        <div>
           <span className="text-xs font-bold text-gray-400 uppercase tracking-wider">KOMUTA MERKEZÄ°</span>
           <h1 className="text-3xl md:text-4xl font-extrabold text-gray-900 mt-1">
             HoÅŸ geldin, {profile?.full_name?.split(' ')[0] || user?.email?.split('@')[0] || 'Patron'} ğŸ‘‹
           </h1>
           <p className="text-gray-500 mt-2">BugÃ¼n markanÄ± bir Ã¼st seviyeye taÅŸÄ±maya hazÄ±r mÄ±sÄ±n?</p>
        </div>
        
        <div className="mt-4 md:mt-0 flex items-center gap-3">
           <div className={`px-4 py-2 rounded-full text-xs font-bold border ${profile?.membership_tier === 'pro' ? 'bg-black text-white border-black' : 'bg-white text-gray-600 border-gray-200'}`}>
              {profile?.membership_tier === 'pro' ? 'PRO PLAN âš¡ï¸' : 'ÃœCRETSÄ°Z PLAN'}
           </div>
           <Link href="/dashboard/profile" className="bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-full text-sm font-bold transition shadow-lg shadow-blue-200">
              Kredi YÃ¼kle
           </Link>
        </div>
      </motion.div>

      {/* 2. DURUM KARTLARI */}
      <motion.div variants={item} className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
        
        {/* KREDÄ° KARTI */}
        <motion.div 
          whileHover={{ scale: 1.02 }}
          whileTap={{ scale: 0.98 }}
          className="bg-gradient-to-br from-[#1a1a1a] to-[#000000] text-white rounded-2xl p-6 shadow-xl relative overflow-hidden group cursor-pointer" 
          onClick={() => router.push('/dashboard/profile')}
        >
           <div className="absolute top-0 right-0 p-6 opacity-10 group-hover:opacity-20 transition-opacity">
              <svg className="w-24 h-24" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
           </div>
           <p className="text-gray-400 text-[10px] font-bold uppercase tracking-wider mb-3">MEVCUT BAKÄ°YE</p>
           <div className="flex items-baseline gap-2">
             <span className="text-5xl font-extrabold tracking-tight">{profile?.credits || 0}</span>
             <span className="text-sm font-medium text-gray-400">Kredi</span>
           </div>
           <div className="mt-6 flex items-center gap-2 text-xs text-gray-400">
             <span className="w-2 h-2 bg-green-500 rounded-full"></span>
             <span>Hesap Aktif</span>
           </div>
        </motion.div>

        {/* MANKEN SAYISI */}
        <motion.div 
          whileHover={{ y: -5 }}
          className="bg-white border border-gray-100 rounded-2xl p-6 shadow-sm relative overflow-hidden group cursor-pointer hover:border-blue-200 transition-colors" 
          onClick={() => router.push('/dashboard/my-models')}
        >
           <div className="absolute top-4 right-4 bg-blue-50 text-blue-600 w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg group-hover:scale-110 transition-transform">
             ğŸ‘¤
           </div>
           <p className="text-gray-400 text-[10px] font-bold uppercase tracking-wider mb-3">KADRODAKÄ° MANKENLER</p>
           <div className="text-4xl font-extrabold text-gray-900">{modelCount}</div>
           <p className="text-sm text-gray-500 mt-2">Senin iÃ§in Ã§alÄ±ÅŸan dijital modeller.</p>
           <div className="mt-4 text-blue-600 text-xs font-bold flex items-center gap-1 group-hover:gap-2 transition-all">
             Yenisini Ekle â†’
           </div>
        </motion.div>

        {/* SONUÃ‡LAR */}
        <motion.div 
          whileHover={{ y: -5 }}
          className="bg-white border border-gray-100 rounded-2xl p-6 shadow-sm relative overflow-hidden group cursor-pointer hover:border-purple-200 transition-colors"
        >
           <div className="absolute top-4 right-4 bg-purple-50 text-purple-600 w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg group-hover:scale-110 transition-transform">
             ğŸš€
           </div>
           <p className="text-gray-400 text-[10px] font-bold uppercase tracking-wider mb-3">SON AKTÄ°VÄ°TE</p>
           <div className="text-4xl font-extrabold text-gray-900">0</div>
           <p className="text-sm text-gray-500 mt-2">BugÃ¼n Ã¼retilen gÃ¶rsel sayÄ±sÄ±.</p>
           <div className="mt-4 text-purple-600 text-xs font-bold">
             HenÃ¼z iÅŸlem yapÄ±lmadÄ±
           </div>
        </motion.div>
      </motion.div>

      {/* 3. ARAÃ‡LAR GRID */}
      <motion.h2 variants={item} className="text-xl font-bold text-gray-900 mb-6 flex items-center gap-2">
        <span className="w-2 h-6 bg-blue-600 rounded-full"></span>
        Ãœretim AraÃ§larÄ±
      </motion.h2>
      
      <motion.div variants={item} className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
         
         {/* ARAÃ‡ KARTLARI */}
         {[
           { title: "Sanal StÃ¼dyo", desc: "KÄ±yafetleri mankenlere giydir.", icon: "ğŸ“¸", color: "blue", link: "/dashboard/studio" },
           { title: "Hayalet Manken", desc: "Mankeni sil, sadece kÄ±yafeti bÄ±rak.", icon: "ğŸ‘»", color: "purple", link: "/dashboard/ghost" },
           { title: "Atmosfer", desc: "DÃ¼kkan Ã§ekimini Paris'e taÅŸÄ±.", icon: "ğŸ¨", color: "green", link: "/dashboard/background" },
           { title: "Metin YazarÄ±", desc: "Instagram iÃ§in aÃ§Ä±klama yazdÄ±r.", icon: "âœï¸", color: "yellow", link: "/dashboard/copywriter" }
         ].map((tool, i) => (
            <Link key={i} href={tool.link}>
              <motion.div 
                whileHover={{ scale: 1.03, rotate: 1 }}
                whileTap={{ scale: 0.98 }}
                className="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-xl transition-all h-full group"
              >
                <div className={`w-14 h-14 bg-${tool.color}-50 text-${tool.color}-600 rounded-xl flex items-center justify-center text-2xl mb-4 group-hover:bg-${tool.color}-600 group-hover:text-white transition-colors`}>
                  {tool.icon}
                </div>
                <h3 className="text-lg font-bold text-gray-900 mb-1">{tool.title}</h3>
                <p className="text-sm text-gray-500 leading-relaxed">{tool.desc}</p>
              </motion.div>
            </Link>
         ))}

      </motion.div>

      {/* 4. ALT BÄ°LGÄ° */}
      <motion.div variants={item} className="mt-12 bg-gray-50 rounded-xl p-4 flex items-center justify-between text-xs text-gray-500 border border-gray-100">
         <div className="flex items-center gap-4">
            <span className="flex items-center gap-2"><span className="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span> Yapay Zeka: <strong>Aktif</strong></span>
            <span className="hidden sm:inline">|</span>
            <span className="hidden sm:inline">VeritabanÄ±: <strong>BaÄŸlÄ±</strong></span>
         </div>
         <div>
            butikmodel.com <span className="font-bold">v2.0</span>
         </div>
      </motion.div>

    </motion.div>
  );
}
--- DOSYA SONU: app/dashboard/page.tsx ---


--- DOSYA BAÅLANGICI: app/dashboard/profile/page.tsx ---
"use client";

import { useState, useEffect } from "react";
import { supabase } from "@/lib/supabase";
import { useRouter } from "next/navigation";

export default function ProfilePage() {
  const [user, setUser] = useState<any>(null);
  const [profile, setProfile] = useState<any>(null);
  const [loading, setLoading] = useState(true);
  const [purchasing, setPurchasing] = useState(false);
  
  const router = useRouter();

  useEffect(() => {
    async function getData() {
      const { data: { session } } = await supabase.auth.getSession();
      if (!session) { router.push("/login"); return; }
      setUser(session.user);

      // Profil verisini (Kredi bilgisini) Ã§ek
      let { data, error } = await supabase.from("profiles").select("*").eq("id", session.user.id).single();
      
      // EÄŸer profil yoksa oluÅŸtur (Hata Ã¶nleyici)
      if (!data) {
         const { data: newProfile } = await supabase.from("profiles").insert({ id: session.user.id, credits: 5 }).select().single();
         data = newProfile;
      }
      
      setProfile(data);
      setLoading(false);
    }
    getData();
  }, [router]);

  const handleLogout = async () => {
    await supabase.auth.signOut();
    router.push("/");
  };

  const handleBuyCredits = async (amount: number, price: number) => {
    if(!profile) return;
    setPurchasing(true);

    // SÄ°MÃœLASYON: GerÃ§ek Ã¶deme sistemi (Iyzico) buraya baÄŸlanacak.
    // Åimdilik demo olduÄŸu iÃ§in direkt yÃ¼klÃ¼yoruz.
    setTimeout(async () => {
       const newBalance = (profile.credits || 0) + amount;
       
       const { error } = await supabase
         .from("profiles")
         .update({ credits: newBalance })
         .eq("id", user.id);

       if (!error) {
         setProfile({ ...profile, credits: newBalance });
         alert(`ğŸ‰ Ã–deme BaÅŸarÄ±lÄ±! ${amount} Kredi hesabÄ±na yÃ¼klendi.`);
       } else {
         alert("Bir hata oluÅŸtu.");
       }
       setPurchasing(false);
    }, 1500);
  };

  if (loading) return <div className="p-10 text-center">YÃ¼kleniyor...</div>;

  return (
    <div className="p-8 min-h-screen pb-20 font-sans max-w-5xl mx-auto">
      <div className="flex justify-between items-center mb-8">
        <div>
           <h1 className="text-3xl font-bold text-gray-900">HesabÄ±m & Kredilerim ğŸ’³</h1>
           <p className="text-gray-500 mt-2">{user?.email}</p>
        </div>
        <button 
          onClick={handleLogout} 
          className="px-4 py-2 border border-gray-300 rounded-lg text-sm font-bold hover:bg-gray-50 transition"
        >
          Ã‡Ä±kÄ±ÅŸ Yap ğŸšª
        </button>
      </div>

      <div className="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
         {/* CÃœZDAN KARTI */}
         <div className="col-span-1 bg-gradient-to-br from-black to-gray-800 text-white p-8 rounded-3xl shadow-xl relative overflow-hidden">
            <div className="absolute top-0 right-0 p-4 opacity-10">
               <span className="text-9xl">ğŸ’</span>
            </div>
            <p className="text-gray-400 font-medium mb-2">Mevcut Bakiyen</p>
            <div className="text-6xl font-extrabold mb-4">{profile?.credits || 0}</div>
            <div className="inline-block bg-white/20 px-3 py-1 rounded-full text-xs font-medium backdrop-blur-md">
               1 Kredi = 1 FotoÄŸraf
            </div>
         </div>

         {/* PAKETLER */}
         <div className="col-span-2 grid grid-cols-1 sm:grid-cols-3 gap-4">
            {[
              { name: "BaÅŸlangÄ±Ã§", credits: 50, price: 499, color: "bg-white border-gray-200" },
              { name: "Butik Pro", credits: 200, price: 999, color: "bg-blue-50 border-blue-200 ring-1 ring-blue-200", badge: "POPÃœLER" },
              { name: "Ajans", credits: 1000, price: 2499, color: "bg-white border-gray-200" },
            ].map((pkg, i) => (
               <div key={i} className={`p-6 rounded-2xl border flex flex-col justify-between relative hover:scale-105 transition-transform cursor-pointer ${pkg.color}`}>
                  {pkg.badge && <span className="absolute -top-3 left-1/2 -translate-x-1/2 bg-blue-600 text-white text-[10px] font-bold px-2 py-1 rounded-full">{pkg.badge}</span>}
                  
                  <div className="text-center">
                    <h3 className="font-bold text-gray-800">{pkg.name}</h3>
                    <p className="text-3xl font-extrabold my-3 text-gray-900">{pkg.credits}</p>
                    <p className="text-xs text-gray-500">Kredi</p>
                  </div>

                  <button 
                    onClick={() => handleBuyCredits(pkg.credits, pkg.price)}
                    disabled={purchasing}
                    className="w-full mt-4 py-2 rounded-lg bg-gray-900 text-white text-xs font-bold hover:bg-black transition"
                  >
                    {purchasing ? "..." : `â‚º${pkg.price} SatÄ±n Al`}
                  </button>
               </div>
            ))}
         </div>
      </div>

      {/* AYARLAR ALANI */}
      <div className="bg-white p-8 rounded-2xl border border-gray-100">
         <h3 className="font-bold text-gray-800 mb-6 pb-4 border-b">Hesap AyarlarÄ±</h3>
         <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
               <label className="block text-sm font-medium text-gray-700 mb-2">E-Posta Adresi</label>
               <input type="text" value={user?.email} disabled className="w-full p-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-500 cursor-not-allowed" />
            </div>
            <div>
               <label className="block text-sm font-medium text-gray-700 mb-2">Åifre</label>
               <button className="w-full p-3 border border-gray-200 rounded-lg text-left text-gray-600 hover:bg-gray-50 transition flex justify-between items-center">
                  <span>â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢</span>
                  <span className="text-xs text-blue-600 font-bold">DeÄŸiÅŸtir</span>
               </button>
            </div>
         </div>
      </div>
    </div>
  );
}
--- DOSYA SONU: app/dashboard/profile/page.tsx ---


--- DOSYA BAÅLANGICI: app/dashboard/settings/page.tsx ---
"use client";

import { useState } from "react";

export default function SettingsPage() {
  const [activeTab, setActiveTab] = useState("general");

  return (
    <div className="p-8 min-h-screen font-sans max-w-5xl mx-auto pb-20">
      <h1 className="text-3xl font-bold text-gray-900 mb-8">Ayarlar âš™ï¸</h1>

      <div className="flex flex-col lg:flex-row gap-8">
        
        {/* SOL MENÃœ */}
        <div className="w-full lg:w-64 flex-shrink-0">
           <nav className="flex flex-col gap-2">
              {['Genel', 'FaturalandÄ±rma', 'Bildirimler', 'GÃ¼venlik'].map((item) => {
                 const id = item.toLowerCase(); // basitleÅŸtirilmiÅŸ id
                 const isActive = activeTab === id || (activeTab === 'general' && id === 'genel');
                 return (
                   <button 
                     key={item}
                     onClick={() => setActiveTab(id === 'genel' ? 'general' : id)}
                     className={`text-left px-4 py-3 rounded-xl text-sm font-bold transition-all ${isActive ? 'bg-black text-white' : 'bg-white text-gray-500 hover:bg-gray-50'}`}
                   >
                     {item}
                   </button>
                 )
              })}
           </nav>
        </div>

        {/* SAÄ Ä°Ã‡ERÄ°K */}
        <div className="flex-1 bg-white p-8 rounded-3xl border border-gray-100 shadow-sm min-h-[500px]">
           
           {activeTab === 'general' && (
             <div className="space-y-6">
                <h3 className="text-xl font-bold border-b pb-4">Genel Bilgiler</h3>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                   <div>
                      <label className="block text-xs font-bold text-gray-500 mb-2">Marka AdÄ±</label>
                      <input type="text" placeholder="Butik Ä°smi" className="w-full p-3 bg-gray-50 rounded-xl border border-gray-200 outline-none focus:ring-2 focus:ring-black" />
                   </div>
                   <div>
                      <label className="block text-xs font-bold text-gray-500 mb-2">Web Sitesi</label>
                      <input type="text" placeholder="www.siteniz.com" className="w-full p-3 bg-gray-50 rounded-xl border border-gray-200 outline-none focus:ring-2 focus:ring-black" />
                   </div>
                </div>
                <div>
                   <label className="block text-xs font-bold text-gray-500 mb-2">VarsayÄ±lan Dil</label>
                   <select className="w-full p-3 bg-gray-50 rounded-xl border border-gray-200 outline-none">
                      <option>TÃ¼rkÃ§e</option>
                      <option>English</option>
                   </select>
                </div>
                <button className="bg-black text-white px-6 py-3 rounded-xl font-bold text-sm">DeÄŸiÅŸiklikleri Kaydet</button>
             </div>
           )}

           {/* DiÄŸer sekmeler iÃ§in placeholder */}
           {activeTab !== 'general' && (
             <div className="flex flex-col items-center justify-center h-full text-gray-400">
                <span className="text-4xl mb-4">ğŸš§</span>
                <p>Bu ayar paneli yapÄ±m aÅŸamasÄ±ndadÄ±r.</p>
             </div>
           )}

        </div>

      </div>
    </div>
  );
}
--- DOSYA SONU: app/dashboard/settings/page.tsx ---


--- DOSYA BAÅLANGICI: app/dashboard/studio/page.tsx ---
"use client";

import { useState, useRef, useEffect } from "react";
import { supabase } from "@/lib/supabase";
import Link from "next/link";
import { useRouter } from "next/navigation";

export default function StudioPage() {
  const [user, setUser] = useState<any>(null);
  const [processing, setProcessing] = useState(false);
  const [statusMessage, setStatusMessage] = useState("");
  
  // Resimler
  const [uploadedImage, setUploadedImage] = useState<string | null>(null);
  const [uploadedPath, setUploadedPath] = useState<string | null>(null);
  const [resultImage, setResultImage] = useState<string | null>(null);
  const [userPrompt, setUserPrompt] = useState("");
  
  // Manken YÃ¶netimi (3 KATEGORÄ°)
  const [activeTab, setActiveTab] = useState<'system' | 'generated' | 'face'>('system');
  
  const [systemModels, setSystemModels] = useState<any[]>([]); // HazÄ±r Havuz
  const [userModels, setUserModels] = useState<any[]>([]);     // Lab (Yapay)
  const [customFaceModels, setCustomFaceModels] = useState<any[]>([]); // Dijital Ä°kizler (YENÄ°)
  
  const [selectedModel, setSelectedModel] = useState<string | null>(null);
  
  const fileInputRef = useRef<HTMLInputElement>(null);
  const router = useRouter();

  useEffect(() => {
    async function initData() {
      const { data: { session } } = await supabase.auth.getSession();
      if (!session) { router.push("/login"); return; }
      setUser(session.user);

      // 1. HAZIR HAVUZU Ã‡EK
      const { data: sysData } = await supabase.from("system_models").select("*").order("name");
      if (sysData) setSystemModels(sysData);

      // 2. LABORATUVAR MANKENLERÄ°NÄ° Ã‡EK
      const { data: usrData } = await supabase.from("user_models").select("*").eq("user_id", session.user.id).order("created_at", { ascending: false });
      if (usrData) setUserModels(usrData);

      // 3. DÄ°JÄ°TAL Ä°KÄ°ZLERÄ° Ã‡EK (YENÄ°)
      const { data: faceData } = await supabase.from("custom_face_models").select("*").eq("user_id", session.user.id).order("created_at", { ascending: false });
      if (faceData) setCustomFaceModels(faceData);
    }
    initData();
  }, [router]);

  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {
    if (!event.target.files || !event.target.files[0]) return;
    const file = event.target.files[0];
    setUploadedImage(URL.createObjectURL(file));
    setUploadedPath("demo_path.jpg"); 
  };

  const handleGenerate = async () => {
    if (!selectedModel) { alert("LÃ¼tfen bir manken seÃ§in!"); return; }
    setProcessing(true);
    setStatusMessage("Senaryo oluÅŸturuluyor...");

    try {
      // SeÃ§ilen mankeni bul
      const allModels = [...systemModels, ...userModels, ...customFaceModels];
      const targetModel = allModels.find(m => m.id === selectedModel);
      
      const finalPrompt = `Professional photo of model (${targetModel?.name}) wearing the uploaded cloth. Scene: ${userPrompt || "Studio"}.`;
      console.log("ğŸš€ KOMUT:", finalPrompt);

      setStatusMessage("Sahne kuruluyor: " + (userPrompt || "StÃ¼dyo OrtamÄ±"));
      
      const { data: profile } = await supabase.from("profiles").select("credits").eq("id", user.id).single();
      if (profile) {
        await supabase.from("profiles").update({ credits: profile.credits - 1 }).eq("id", user.id);
      }

      setTimeout(() => {
        setResultImage("https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?w=600&h=800&fit=crop");
        setStatusMessage("âœ… Ã‡ekim TamamlandÄ±!");
        setProcessing(false);
      }, 3000);

    } catch (error: any) {
      alert("Hata: " + error.message);
      setProcessing(false);
    }
  };

  return (
    <div className="p-8 min-h-screen pb-20 font-sans max-w-7xl mx-auto">
      <div className="mb-8">
        <h1 className="text-3xl font-bold text-gray-900">Sanal StÃ¼dyo ğŸ“¸</h1>
        <p className="text-gray-500 mt-2">KÄ±yafetini yÃ¼kle, mankenini seÃ§ ve Ã§ekimi baÅŸlat.</p>
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
        
        {/* SOL KOLON: GÄ°RDÄ°LER */}
        <div className="lg:col-span-2 space-y-8">
          
          {/* ADIM 1: KIYAFET */}
          <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
            <h3 className="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2">
              <span className="bg-black text-white w-6 h-6 flex items-center justify-center rounded-full text-xs">1</span>
              KÄ±yafet FotoÄŸrafÄ±
            </h3>
            <div onClick={() => fileInputRef.current?.click()} className={`relative border-2 border-dashed rounded-xl p-6 text-center cursor-pointer transition-all ${uploadedImage ? 'border-green-500 bg-green-50' : 'border-gray-300 hover:border-black'}`}>
              <input type="file" ref={fileInputRef} onChange={handleFileUpload} className="hidden" accept="image/*" />
              {uploadedImage ? (
                <img src={uploadedImage} className="h-48 w-full object-contain mx-auto" />
              ) : (
                <div className="py-8">
                  <span className="text-4xl">ğŸ‘•</span>
                  <p className="mt-2 text-sm text-gray-500">FotoÄŸraf seÃ§mek iÃ§in tÄ±kla</p>
                </div>
              )}
            </div>
          </div>

          {/* ADIM 2: OYUNCU SEÃ‡Ä°MÄ° */}
          <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
             <div className="flex justify-between items-center mb-6">
                <h3 className="text-lg font-bold text-gray-800 flex items-center gap-2">
                  <span className="bg-black text-white w-6 h-6 flex items-center justify-center rounded-full text-xs">2</span>
                  Manken SeÃ§imi
                </h3>
                
                {/* HIZLI EKLE BUTONLARI */}
                {activeTab === 'generated' && (
                  <Link href="/dashboard/my-models" className="text-xs bg-black text-white px-3 py-1.5 rounded-full font-bold hover:bg-gray-800">
                    + Yeni Ãœret
                  </Link>
                )}
                {activeTab === 'face' && (
                  <Link href="/dashboard/train-model" className="text-xs bg-black text-white px-3 py-1.5 rounded-full font-bold hover:bg-gray-800">
                    + Yeni YÃ¼z TanÄ±t
                  </Link>
                )}
             </div>

             {/* SEKMELER */}
             <div className="flex p-1 bg-gray-100 rounded-xl mb-6">
                <button 
                  onClick={() => setActiveTab('system')}
                  className={`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${activeTab === 'system' ? 'bg-white text-black shadow-sm' : 'text-gray-500 hover:text-gray-900'}`}
                >
                  ğŸ¢ HazÄ±r Havuz
                </button>
                <button 
                  onClick={() => setActiveTab('generated')}
                  className={`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${activeTab === 'generated' ? 'bg-white text-black shadow-sm' : 'text-gray-500 hover:text-gray-900'}`}
                >
                  ğŸ§¬ Laboratuvar
                </button>
                <button 
                  onClick={() => setActiveTab('face')}
                  className={`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${activeTab === 'face' ? 'bg-white text-black shadow-sm' : 'text-gray-500 hover:text-gray-900'}`}
                >
                  ğŸ‘¤ Kendi YÃ¼zÃ¼m
                </button>
             </div>

             {/* MANKEN LÄ°STESÄ° */}
             <div className="min-h-[200px]">
                
                {/* 1. HAZIR HAVUZ */}
                {activeTab === 'system' && (
                  <div className="grid grid-cols-3 sm:grid-cols-4 gap-4">
                    {systemModels.map((m) => (
                      <div key={m.id} onClick={() => setSelectedModel(m.id)} className={`relative aspect-[3/4] rounded-lg overflow-hidden cursor-pointer border-2 transition-all group ${selectedModel === m.id ? 'border-blue-600 ring-2 ring-blue-100 scale-105' : 'border-transparent hover:border-gray-200'}`}>
                        <img src={m.image_url} className="w-full h-full object-cover" />
                        <div className="absolute bottom-0 w-full bg-gradient-to-t from-black/80 to-transparent text-white text-[10px] p-2 pt-4 text-center truncate font-medium">
                          {m.name}
                        </div>
                      </div>
                    ))}
                  </div>
                )}

                {/* 2. LABORATUVAR */}
                {activeTab === 'generated' && (
                  userModels.length > 0 ? (
                    <div className="grid grid-cols-3 sm:grid-cols-4 gap-4">
                      {userModels.map((m) => (
                        <div key={m.id} onClick={() => setSelectedModel(m.id)} className={`relative aspect-[3/4] rounded-lg overflow-hidden cursor-pointer border-2 transition-all group ${selectedModel === m.id ? 'border-blue-600 ring-2 ring-blue-100 scale-105' : 'border-transparent hover:border-gray-200'}`}>
                          <img src={m.image_url} className="w-full h-full object-cover" />
                          <div className="absolute top-2 right-2 bg-purple-600 text-white text-[8px] font-bold px-1.5 py-0.5 rounded">AI</div>
                          <div className="absolute bottom-0 w-full bg-black/60 text-white text-[10px] p-1 text-center truncate">{m.name}</div>
                        </div>
                      ))}
                    </div>
                  ) : (
                    <div className="text-center py-10 border-2 border-dashed border-gray-200 rounded-xl">
                      <p className="text-gray-500 mb-4">HenÃ¼z kendi Ã¼rettiÄŸin bir manken yok.</p>
                      <Link href="/dashboard/my-models" className="bg-black text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-gray-800">
                        Hemen Ãœretmeye BaÅŸla
                      </Link>
                    </div>
                  )
                )}

                {/* 3. KENDÄ° YÃœZÃœM (YENÄ°) */}
                {activeTab === 'face' && (
                  customFaceModels.length > 0 ? (
                    <div className="grid grid-cols-3 sm:grid-cols-4 gap-4">
                      {customFaceModels.map((m) => (
                        <div key={m.id} onClick={() => setSelectedModel(m.id)} className={`relative aspect-[3/4] rounded-lg overflow-hidden cursor-pointer border-2 transition-all group ${selectedModel === m.id ? 'border-blue-600 ring-2 ring-blue-100 scale-105' : 'border-transparent hover:border-gray-200'}`}>
                          <img src={m.cover_image} className="w-full h-full object-cover" />
                          <div className="absolute top-2 right-2 bg-blue-600 text-white text-[8px] font-bold px-1.5 py-0.5 rounded">Ä°KÄ°Z</div>
                          <div className="absolute bottom-0 w-full bg-black/60 text-white text-[10px] p-1 text-center truncate">{m.name}</div>
                        </div>
                      ))}
                       {/* Ekleme KartÄ± */}
                       <Link href="/dashboard/train-model" className="aspect-[3/4] rounded-lg border-2 border-dashed border-gray-200 flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 hover:border-black transition-colors">
                          <span className="text-2xl text-gray-400">+</span>
                          <span className="text-xs font-bold text-gray-500 mt-2">Yeni YÃ¼z</span>
                       </Link>
                    </div>
                  ) : (
                    <div className="text-center py-10 border-2 border-dashed border-gray-200 rounded-xl bg-gray-50">
                      <div className="text-4xl mb-3">ğŸ¤³</div>
                      <h4 className="font-bold text-gray-900">Dijital Ä°kizini Yarat</h4>
                      <p className="text-gray-500 text-sm mb-4 max-w-xs mx-auto">
                        Kendi fotoÄŸrafÄ±nÄ± yÃ¼kle, sistem seni tanÄ±sÄ±n ve tÃ¼m kÄ±yafetleri sana giydirsin.
                      </p>
                      <Link href="/dashboard/train-model" className="bg-blue-600 text-white px-6 py-3 rounded-lg text-sm font-bold hover:bg-blue-700 shadow-lg">
                        FotoÄŸraf YÃ¼klemeye BaÅŸla
                      </Link>
                    </div>
                  )
                )}
             </div>
          </div>

          {/* ADIM 3: SAHNE */}
          <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
            <h3 className="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2">
              <span className="bg-black text-white w-6 h-6 flex items-center justify-center rounded-full text-xs">3</span>
              Sahne & Atmosfer
            </h3>
            <textarea 
              value={userPrompt}
              onChange={(e) => setUserPrompt(e.target.value)}
              placeholder="Ã–rn: Paris'te yaÄŸmurlu bir sokakta..."
              className="w-full p-4 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-black outline-none min-h-[100px]"
            />
          </div>

        </div>

        {/* SAÄ KOLON: Ã‡EKÄ°M */}
        <div className="space-y-6">
          <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 sticky top-4">
            <h3 className="font-bold text-gray-900 mb-4">ProdÃ¼ksiyon</h3>
            <div className="space-y-4 text-sm">
              <div className="flex justify-between">
                <span className="text-gray-500">KÄ±yafet:</span>
                <span>{uploadedImage ? "âœ… HazÄ±r" : "âŒ Bekleniyor"}</span>
              </div>
              <div className="flex justify-between">
                <span className="text-gray-500">Manken:</span>
                <span className={selectedModel ? "text-green-600 font-bold" : "text-red-500"}>
                  {selectedModel ? "âœ… SeÃ§ildi" : "âŒ SeÃ§ilmedi"}
                </span>
              </div>
              <button 
                onClick={handleGenerate}
                disabled={!uploadedImage || !selectedModel || processing}
                className="w-full bg-black text-white font-bold py-4 rounded-xl shadow-lg hover:scale-[1.02] transition-all disabled:opacity-50 flex items-center justify-center gap-2"
              >
                {processing ? "Motor Ã‡alÄ±ÅŸÄ±yor..." : "ğŸ¬ KayÄ±t! (1 Kredi)"}
              </button>
            </div>
          </div>
          {resultImage && (
            <div className="bg-white p-4 rounded-2xl shadow-lg border border-green-100 animate-in fade-in zoom-in">
              <img src={resultImage} className="w-full rounded-lg shadow-sm" />
              <button className="w-full mt-3 bg-gray-100 text-gray-800 py-2 rounded-lg font-bold text-xs hover:bg-gray-200">GÃ¶rseli Ä°ndir</button>
            </div>
          )}
        </div>

      </div>
    </div>
  );
}
--- DOSYA SONU: app/dashboard/studio/page.tsx ---


--- DOSYA BAÅLANGICI: app/dashboard/template.tsx ---
"use client";

import { motion } from "framer-motion";

export default function Template({ children }: { children: React.ReactNode }) {
  return (
    <motion.div
      initial={{ opacity: 0, y: 20 }} // BaÅŸlangÄ±Ã§: GÃ¶rÃ¼nmez ve 20px aÅŸaÄŸÄ±da
      animate={{ opacity: 1, y: 0 }}  // BitiÅŸ: GÃ¶rÃ¼nÃ¼r ve yerinde
      transition={{ duration: 0.4, ease: "easeOut" }} // SÃ¼re: 0.4 saniye, yumuÅŸak duruÅŸ
      className="w-full"
    >
      {children}
    </motion.div>
  );
}
--- DOSYA SONU: app/dashboard/template.tsx ---


--- DOSYA BAÅLANGICI: app/dashboard/train-model/page.tsx ---
"use client";

import { useState, useRef } from "react";
import { supabase } from "@/lib/supabase";
import { useRouter } from "next/navigation";

export default function TrainModelPage() {
  const [modelName, setModelName] = useState("");
  const [files, setFiles] = useState<File[]>([]);
  const [previews, setPreviews] = useState<string[]>([]);
  const [processing, setProcessing] = useState(false);
  const fileInputRef = useRef<HTMLInputElement>(null);
  const router = useRouter();

  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {
    if (e.target.files) {
      const newFiles = Array.from(e.target.files);
      setFiles([...files, ...newFiles]);
      
      const newPreviews = newFiles.map(file => URL.createObjectURL(file));
      setPreviews([...previews, ...newPreviews]);
    }
  };

  const handleTrain = async () => {
    if (!modelName || files.length < 3) {
      alert("LÃ¼tfen bir isim girin ve en az 3 fotoÄŸraf yÃ¼kleyin.");
      return;
    }
    
    setProcessing(true);

    try {
      const { data: { session } } = await supabase.auth.getSession();
      if (!session) return;

      // 1. SÄ°MÃœLASYON: Resimler sunucuya gidiyor ve AI eÄŸitiliyor...
      await new Promise(resolve => setTimeout(resolve, 2000));

      // 2. VeritabanÄ±na kaydet (Ä°lk resim kapak fotosu olsun)
      // GerÃ§ekte storage'a yÃ¼kleyip o linki alÄ±rdÄ±k, ÅŸimdilik blob linki demo
      const demoCoverUrl = "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop"; 

      const { error } = await supabase.from("custom_face_models").insert({
        user_id: session.user.id,
        name: modelName,
        cover_image: demoCoverUrl, 
        status: 'ready'
      });

      if (error) throw error;

      alert("ğŸ‰ Dijital Ä°kiz BaÅŸarÄ±yla OluÅŸturuldu!");
      router.push("/dashboard/studio"); // StÃ¼dyoya geri dÃ¶n

    } catch (error: any) {
      alert("Hata: " + error.message);
    } finally {
      setProcessing(false);
    }
  };

  return (
    <div className="p-8 min-h-screen font-sans max-w-4xl mx-auto">
      <div className="mb-8">
        <button onClick={() => router.back()} className="text-sm text-gray-500 hover:text-black mb-4">â† Geri DÃ¶n</button>
        <h1 className="text-3xl font-bold text-gray-900">Dijital Ä°kiz Yarat ğŸ§¬</h1>
        <p className="text-gray-500 mt-2">Kendini veya bir baÅŸkasÄ±nÄ± sisteme manken olarak tanÄ±t.</p>
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-2 gap-12">
        
        {/* SOL: YÃœKLEME ALANI */}
        <div className="space-y-6">
          <div className="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm">
             <label className="block text-sm font-bold text-gray-700 mb-2">Manken AdÄ±</label>
             <input 
               type="text" 
               value={modelName}
               onChange={(e) => setModelName(e.target.value)}
               placeholder="Ã–rn: Burak, AyÅŸe..." 
               className="w-full p-3 bg-gray-50 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-black"
             />
          </div>

          <div className="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm">
             <h3 className="font-bold text-gray-800 mb-2">FotoÄŸraflar ({files.length}/10)</h3>
             <p className="text-xs text-gray-500 mb-4">FarklÄ± aÃ§Ä±lardan (Ã¶n, yan, boydan) Ã§ekilmiÅŸ en az 3 fotoÄŸraf yÃ¼kle.</p>
             
             <div className="grid grid-cols-3 gap-2 mb-4">
                {previews.map((src, i) => (
                  <div key={i} className="aspect-square rounded-lg overflow-hidden border border-gray-200 relative">
                    <img src={src} className="w-full h-full object-cover" />
                  </div>
                ))}
                
                {files.length < 10 && (
                  <div onClick={() => fileInputRef.current?.click()} className="aspect-square rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center cursor-pointer hover:bg-gray-50 transition">
                    <span className="text-2xl text-gray-400">+</span>
                    <input type="file" multiple ref={fileInputRef} onChange={handleFileSelect} className="hidden" accept="image/*" />
                  </div>
                )}
             </div>
          </div>

          <button 
            onClick={handleTrain}
            disabled={processing || files.length < 3 || !modelName}
            className="w-full bg-black text-white py-4 rounded-xl font-bold shadow-lg hover:scale-[1.02] transition-transform disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"
          >
            {processing ? "Yapay Zeka EÄŸitiliyor..." : "ğŸ§  Analizi BaÅŸlat"}
          </button>
        </div>

        {/* SAÄ: REHBER */}
        <div className="bg-blue-50 p-8 rounded-3xl border border-blue-100 h-fit">
           <h3 className="text-xl font-bold text-blue-900 mb-4">NasÄ±l Ä°yi SonuÃ§ AlÄ±rsÄ±n?</h3>
           <ul className="space-y-4 text-sm text-blue-800">
             <li className="flex gap-3">
               <span className="bg-blue-200 text-blue-800 w-6 h-6 flex items-center justify-center rounded-full font-bold text-xs">1</span>
               <span><strong>FarklÄ± AÃ§Ä±lar:</strong> Sadece Ã¶nden deÄŸil, yan profilden ve boydan fotoÄŸraflar da ekle.</span>
             </li>
             <li className="flex gap-3">
               <span className="bg-blue-200 text-blue-800 w-6 h-6 flex items-center justify-center rounded-full font-bold text-xs">2</span>
               <span><strong>Ä°yi IÅŸÄ±k:</strong> YÃ¼zÃ¼n gÃ¶lgede kalmasÄ±n. GÃ¼n Ä±ÅŸÄ±ÄŸÄ± en iyisidir.</span>
             </li>
             <li className="flex gap-3">
               <span className="bg-blue-200 text-blue-800 w-6 h-6 flex items-center justify-center rounded-full font-bold text-xs">3</span>
               <span><strong>Tek KiÅŸi:</strong> FotoÄŸrafta yanÄ±nda baÅŸkasÄ± olmasÄ±n.</span>
             </li>
             <li className="flex gap-3">
               <span className="bg-blue-200 text-blue-800 w-6 h-6 flex items-center justify-center rounded-full font-bold text-xs">4</span>
               <span><strong>Aksesuar Yok:</strong> GÃ¼neÅŸ gÃ¶zlÃ¼ÄŸÃ¼ veya ÅŸapka takmamaya Ã§alÄ±ÅŸ.</span>
             </li>
           </ul>
        </div>

      </div>
    </div>
  );
}
--- DOSYA SONU: app/dashboard/train-model/page.tsx ---


--- DOSYA BAÅLANGICI: app/globals.css ---
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 214, 219, 220;
  --background-end-rgb: 255, 255, 255;
}

body {
  color: rgb(var(--foreground-rgb));
  background: transparent;
}
--- DOSYA SONU: app/globals.css ---


--- DOSYA BAÅLANGICI: app/layout.tsx ---
import type { Metadata } from "next";
import { Inter } from "next/font/google";
import "./globals.css";
import NextTopLoader from 'nextjs-toploader'; // EKLENDÄ°

const inter = Inter({ subsets: ["latin"] });

export const metadata: Metadata = {
  title: "ButikModel.com | Yapay Zeka StÃ¼dyosu",
  description: "Manken masrafÄ±na son verin. Yapay zeka destekli Ã¼rÃ¼n fotoÄŸrafÃ§Ä±lÄ±ÄŸÄ±.",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="tr">
      <body className={inter.className}>
        {/* YÃ¼kleme Ã‡ubuÄŸu AyarlarÄ± (Renk: Siyah, HÄ±z: YumuÅŸak) */}
        <NextTopLoader 
          color="#000000"
          initialPosition={0.08}
          crawlSpeed={200}
          height={3}
          crawl={true}
          showSpinner={false}
          easing="ease"
          speed={200}
          shadow="0 0 10px #2299DD,0 0 5px #2299DD"
        />
        {children}
      </body>
    </html>
  );
}
--- DOSYA SONU: app/layout.tsx ---


--- DOSYA BAÅLANGICI: app/legal/layout.tsx ---
export default function LegalLayout({ children }: { children: React.ReactNode }) {
  return (
    <div className="min-h-screen bg-gray-50 font-sans">
      <div className="max-w-3xl mx-auto py-20 px-8">
        <a href="/" className="text-sm font-bold text-gray-500 hover:text-black mb-8 block">â† Ana Sayfaya DÃ¶n</a>
        <div className="bg-white p-12 rounded-3xl shadow-sm border border-gray-100">
          {children}
        </div>
      </div>
    </div>
  );
}
--- DOSYA SONU: app/legal/layout.tsx ---


--- DOSYA BAÅLANGICI: app/legal/privacy/page.tsx ---
export default function PrivacyPage() {
  return (
    <div className="prose prose-gray max-w-none">
      <h1 className="text-3xl font-bold mb-6">Gizlilik PolitikasÄ±</h1>
      <p>Son GÃ¼ncelleme: 16 Ocak 2026</p>
      <p>Butikmodel.com olarak gizliliÄŸinize Ã¶nem veriyoruz...</p>
      <h3>1. Veri Toplama</h3>
      <p>YÃ¼klediÄŸiniz fotoÄŸraflar yapay zeka iÅŸleminden 24 saat sonra sunucularÄ±mÄ±zdan otomatik olarak silinir.</p>
      {/* Buraya uzun metinler gelir */}
    </div>
  );
}
--- DOSYA SONU: app/legal/privacy/page.tsx ---


--- DOSYA BAÅLANGICI: app/legal/terms/page.tsx ---
export default function TermsPage() {
  return (
    <div className="prose prose-gray max-w-none">
      <h1 className="text-3xl font-bold mb-6">KullanÄ±m ÅartlarÄ±</h1>
      <p>Hizmetlerimizi kullanarak aÅŸaÄŸÄ±daki ÅŸartlarÄ± kabul etmiÅŸ sayÄ±lÄ±rsÄ±nÄ±z...</p>
      <h3>1. Hesap GÃ¼venliÄŸi</h3>
      <p>Åifrenizi kimseyle paylaÅŸmamak sizin sorumluluÄŸunuzdadÄ±r.</p>
    </div>
  );
}
--- DOSYA SONU: app/legal/terms/page.tsx ---


--- DOSYA BAÅLANGICI: app/login/page.tsx ---
"use client";

import { useState } from "react";
import { supabase } from "@/lib/supabase";
import { useRouter } from "next/navigation";
import Link from "next/link";

export default function LoginPage() {
  const [loading, setLoading] = useState(false);
  const [isSignUp, setIsSignUp] = useState(false); // GiriÅŸ mi, KayÄ±t mÄ±?
  const [email, setEmail] = useState("");
  const [password, setPassword] = useState("");
  const [errorMsg, setErrorMsg] = useState("");
  const [successMsg, setSuccessMsg] = useState("");
  
  const router = useRouter();

  const handleAuth = async (e: React.FormEvent) => {
    e.preventDefault();
    setLoading(true);
    setErrorMsg("");
    setSuccessMsg("");

    try {
      if (isSignUp) {
        // KAYIT OLMA Ä°ÅLEMÄ°
        const { error } = await supabase.auth.signUp({
          email,
          password,
        });
        if (error) throw error;
        setSuccessMsg("KayÄ±t baÅŸarÄ±lÄ±! LÃ¼tfen e-posta adresinize gelen onay linkine tÄ±klayÄ±n.");
      } else {
        // GÄ°RÄ°Å YAPMA Ä°ÅLEMÄ°
        const { error } = await supabase.auth.signInWithPassword({
          email,
          password,
        });
        if (error) throw error;
        router.push("/dashboard"); // BaÅŸarÄ±lÄ±ysa panele at
      }
    } catch (error: any) {
      setErrorMsg(error.message || "Bir hata oluÅŸtu.");
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="min-h-screen grid grid-cols-1 lg:grid-cols-2 bg-white">
      
      {/* SOL: GÃ–RSEL ALANI (MOBÄ°LDE GÄ°ZLENEBÄ°LÄ°R) */}
      <div className="hidden lg:flex flex-col justify-between bg-black text-white p-12 relative overflow-hidden">
        {/* Arkaplan GÃ¶rseli */}
        <div className="absolute inset-0 z-0 opacity-60">
           <img 
             src="https://images.unsplash.com/photo-1558769132-cb1aea458c5e?q=80&w=2574&auto=format&fit=crop" 
             className="w-full h-full object-cover"
             alt="Fashion AI" 
           />
        </div>
        <div className="absolute inset-0 bg-gradient-to-b from-transparent to-black z-10"></div>

        {/* Logo */}
        <div className="relative z-20 flex items-center gap-2">
           <div className="w-8 h-8 bg-white rounded flex items-center justify-center text-black font-bold text-xl">B</div>
           <span className="font-bold text-xl tracking-tight">butikmodel.ai</span>
        </div>

        {/* Mesaj */}
        <div className="relative z-20 max-w-lg">
           <blockquote className="text-2xl font-medium leading-relaxed mb-6">
             "FotoÄŸraf Ã§ekimleri iÃ§in harcadÄ±ÄŸÄ±m zamanÄ± %90 azalttÄ±. ArtÄ±k sadece tasarÄ±mlarÄ±ma odaklanabiliyorum."
           </blockquote>
           <div className="flex items-center gap-4">
              <img src="https://randomuser.me/api/portraits/women/44.jpg" className="w-10 h-10 rounded-full border-2 border-white/20" />
              <div>
                 <p className="font-bold">Selin YÄ±lmaz</p>
                 <p className="text-sm text-gray-400">Butik Sahibi, Ä°stanbul</p>
              </div>
           </div>
        </div>
      </div>

      {/* SAÄ: FORM ALANI */}
      <div className="flex items-center justify-center p-8 lg:p-24">
        <div className="w-full max-w-md space-y-8">
           
           <div className="text-center lg:text-left">
              <h2 className="text-3xl font-extrabold text-gray-900 tracking-tight">
                {isSignUp ? "Hesap OluÅŸtur ğŸš€" : "Tekrar HoÅŸgeldin ğŸ‘‹"}
              </h2>
              <p className="mt-2 text-sm text-gray-500">
                {isSignUp ? "2 dakika iÃ§inde yapay zeka stÃ¼dyonu kur." : "KaldÄ±ÄŸÄ±n yerden devam et."}
              </p>
           </div>

           {/* HATA / BAÅARI MESAJLARI */}
           {errorMsg && (
             <div className="bg-red-50 text-red-600 p-4 rounded-lg text-sm font-medium border border-red-100 flex items-center gap-2 animate-in slide-in-from-top-2">
               âš ï¸ {errorMsg}
             </div>
           )}
           {successMsg && (
             <div className="bg-green-50 text-green-700 p-4 rounded-lg text-sm font-medium border border-green-100 flex items-center gap-2 animate-in slide-in-from-top-2">
               ğŸ“© {successMsg}
             </div>
           )}

           <form onSubmit={handleAuth} className="space-y-6">
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-1">E-Posta Adresi</label>
                <input 
                  type="email" 
                  required 
                  value={email}
                  onChange={(e) => setEmail(e.target.value)}
                  className="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-black focus:border-transparent outline-none transition-all"
                  placeholder="isim@sirketiniz.com"
                />
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-1">Åifre</label>
                <input 
                  type="password" 
                  required 
                  value={password}
                  onChange={(e) => setPassword(e.target.value)}
                  className="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-black focus:border-transparent outline-none transition-all"
                  placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                />
              </div>

              <button 
                type="submit" 
                disabled={loading}
                className="w-full flex justify-center py-4 px-4 border border-transparent rounded-xl shadow-sm text-sm font-bold text-white bg-black hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black transition-all disabled:opacity-50 disabled:cursor-not-allowed"
              >
                {loading ? (
                  <span className="w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"></span>
                ) : (
                  isSignUp ? "Hemen Kaydol" : "GiriÅŸ Yap"
                )}
              </button>
           </form>

           <div className="relative my-8">
              <div className="absolute inset-0 flex items-center">
                <div className="w-full border-t border-gray-200"></div>
              </div>
              <div className="relative flex justify-center text-sm">
                <span className="px-2 bg-white text-gray-500">veya</span>
              </div>
           </div>

           <div className="text-center text-sm">
             <span className="text-gray-500">
               {isSignUp ? "Zaten hesabÄ±n var mÄ±?" : "HenÃ¼z Ã¼ye deÄŸil misin?"}
             </span>{" "}
             <button 
               onClick={() => {
                 setIsSignUp(!isSignUp);
                 setErrorMsg("");
                 setSuccessMsg("");
               }}
               className="font-bold text-black hover:underline transition-all"
             >
               {isSignUp ? "GiriÅŸ Yap" : "Åimdi Kaydol"}
             </button>
           </div>

        </div>
      </div>
    </div>
  );
}
--- DOSYA SONU: app/login/page.tsx ---


--- DOSYA BAÅLANGICI: app/page.tsx ---
"use client";

import Link from "next/link";
import { useState } from "react";

export default function Home() {
  const [activeTab, setActiveTab] = useState("studio");
  const [openFaq, setOpenFaq] = useState<number | null>(null);

  const toggleFaq = (index: number) => {
    setOpenFaq(openFaq === index ? null : index);
  };

  // Ä°KONLAR (Sidebar ile aynÄ± tasarÄ±m dili)
  const icons = {
    studio: <svg className="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>,
    ghost: <svg className="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>,
    bg: <svg className="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>,
    text: <svg className="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>,
    check: <svg className="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M5 13l4 4L19 7"></path></svg>
  };

  return (
    <div className="min-h-screen bg-white text-gray-900 font-sans selection:bg-black selection:text-white">
      
      {/* NAVBAR */}
      <nav className="fixed top-0 w-full bg-white/90 backdrop-blur-xl z-50 border-b border-gray-100 transition-all">
        <div className="flex items-center justify-between px-6 py-4 max-w-7xl mx-auto">
          <div className="flex items-center gap-2">
            <div className="w-8 h-8 bg-black rounded-lg flex items-center justify-center text-white font-bold text-xl shadow-lg">B</div>
            <span className="font-bold text-xl tracking-tight text-gray-900">butikmodel<span className="text-gray-400">.com</span></span>
          </div>
          <div className="hidden md:flex items-center gap-8 text-sm font-medium text-gray-500">
            <a href="#features" className="hover:text-black transition-colors">Ã–zellikler</a>
            <a href="#how-it-works" className="hover:text-black transition-colors">NasÄ±l Ã‡alÄ±ÅŸÄ±r?</a>
            <a href="#pricing" className="hover:text-black transition-colors">Fiyatlar</a>
          </div>
          <div className="flex items-center gap-4">
            <Link href="/login" className="text-sm font-bold text-gray-900 hover:text-black transition">GiriÅŸ Yap</Link>
            <Link href="/login" className="px-6 py-2.5 bg-black text-white text-sm font-bold rounded-full hover:bg-gray-800 transition shadow-lg hover:shadow-xl hover:-translate-y-0.5 transform duration-200">
              Ãœcretsiz Dene
            </Link>
          </div>
        </div>
      </nav>

      {/* HERO SECTION */}
      <section className="relative pt-32 pb-24 px-4 overflow-hidden">
        {/* Arkaplan IzgarasÄ± */}
        <div className="absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 z-0"></div>
        <div className="absolute top-0 left-1/2 -translate-x-1/2 w-[1000px] h-[600px] bg-gradient-to-b from-blue-50/50 to-transparent rounded-full blur-3xl -z-10"></div>
        
        <div className="max-w-7xl mx-auto text-center relative z-10">
          <div className="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gray-50 text-gray-600 text-xs font-bold uppercase tracking-wide mb-8 border border-gray-200 hover:border-gray-300 transition-colors cursor-default animate-in fade-in slide-in-from-bottom-4 duration-700">
            <span className="relative flex h-2 w-2">
              <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
              <span className="relative inline-flex rounded-full h-2 w-2 bg-green-500"></span>
            </span>
            Yapay Zeka Destekli ProdÃ¼ksiyon
          </div>
          
          <h1 className="text-6xl md:text-8xl font-extrabold leading-tight tracking-tighter mb-8 animate-in fade-in slide-in-from-bottom-8 duration-1000 text-gray-900">
            Manken MasrafÄ±na <br className="hidden md:block" />
            <span className="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600">Son Verin.</span>
          </h1>
          
          <p className="mt-6 text-xl text-gray-500 max-w-2xl mx-auto leading-relaxed animate-in fade-in slide-in-from-bottom-8 duration-1000 delay-200">
            KÄ±yafetlerinizi askÄ±da veya yerde Ã§ekin, yapay zekamÄ±z saniyeler iÃ§inde profesyonel mankenlere giydirsin. StÃ¼dyo, Ä±ÅŸÄ±k ve model maliyetlerini %90 dÃ¼ÅŸÃ¼rÃ¼n.
          </p>

          <div className="mt-12 flex flex-col sm:flex-row items-center justify-center gap-4 animate-in fade-in slide-in-from-bottom-8 duration-1000 delay-300">
            <Link href="/login" className="w-full sm:w-auto px-10 py-5 bg-black text-white font-bold text-lg rounded-full hover:bg-gray-800 transition shadow-2xl hover:shadow-black/20 flex items-center justify-center gap-2 group">
              <span>Hemen BaÅŸla</span>
              <svg className="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg>
            </Link>
            <a href="#demo" className="w-full sm:w-auto px-10 py-5 bg-white text-gray-900 border border-gray-200 font-bold text-lg rounded-full hover:bg-gray-50 transition flex items-center justify-center gap-2">
              <span>CanlÄ± Demo</span>
            </a>
          </div>

          <div className="mt-16 pt-8 border-t border-gray-100 max-w-4xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-8 opacity-50 grayscale hover:grayscale-0 transition-all duration-500">
             {/* Logo Yerleri (Placeholder) */}
             <div className="text-center text-sm font-bold text-gray-400">TRENDYOL</div>
             <div className="text-center text-sm font-bold text-gray-400">HEPSÄ°BURADA</div>
             <div className="text-center text-sm font-bold text-gray-400">SHOPIFY</div>
             <div className="text-center text-sm font-bold text-gray-400">WOOCOMMERCE</div>
          </div>
        </div>
      </section>

      {/* DEMO SECTION (BEFORE/AFTER) */}
      <section id="demo" className="py-24 bg-gray-50 border-y border-gray-100">
        <div className="max-w-6xl mx-auto px-4">
           <div className="text-center mb-16">
             <h2 className="text-4xl font-bold text-gray-900 tracking-tight">GÃ¶zlerine Ä°nanamayacaksÄ±n</h2>
             <p className="text-gray-500 mt-4 text-lg">SÄ±radan bir fotoÄŸrafÄ± saniyeler iÃ§inde satÄ±ÅŸ makinesine dÃ¶nÃ¼ÅŸtÃ¼rÃ¼yoruz.</p>
           </div>

           <div className="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
              {/* Sol: Kontrol Paneli */}
              <div className="space-y-8">
                 <div className="bg-white p-8 rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100">
                    <div className="flex gap-2 bg-gray-100 p-1 rounded-xl mb-6">
                       <button onClick={() => setActiveTab('studio')} className={`flex-1 py-3 rounded-lg text-sm font-bold transition-all ${activeTab === 'studio' ? 'bg-white text-black shadow-sm' : 'text-gray-500 hover:text-gray-900'}`}>Sanal StÃ¼dyo</button>
                       <button onClick={() => setActiveTab('ghost')} className={`flex-1 py-3 rounded-lg text-sm font-bold transition-all ${activeTab === 'ghost' ? 'bg-white text-black shadow-sm' : 'text-gray-500 hover:text-gray-900'}`}>Hayalet Manken</button>
                    </div>
                    
                    {activeTab === 'studio' ? (
                      <div className="animate-in fade-in zoom-in duration-300">
                        <h3 className="text-2xl font-bold text-gray-900 mb-3">Sanal StÃ¼dyo Ã‡ekimi</h3>
                        <p className="text-gray-500 leading-relaxed mb-6">
                          Yerde Ã§ektiÄŸiniz bir elbiseyi yÃ¼kleyin. Yapay zeka kÄ±vrÄ±mlarÄ±, gÃ¶lgeleri ve dokuyu algÄ±layarak seÃ§tiÄŸiniz mankene (zayÄ±f, balÄ±k etli, fit) kusursuzca giydirsin.
                        </p>
                        <div className="space-y-3">
                          <div className="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                             <span className="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600">ğŸ’¡</span>
                             <span className="text-sm font-medium text-gray-700">Otomatik IÅŸÄ±klandÄ±rma</span>
                          </div>
                          <div className="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                             <span className="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center text-purple-600">âš¡ï¸</span>
                             <span className="text-sm font-medium text-gray-700">4K Ultra HD Ã‡Ä±ktÄ±</span>
                          </div>
                        </div>
                      </div>
                    ) : (
                      <div className="animate-in fade-in zoom-in duration-300">
                        <h3 className="text-2xl font-bold text-gray-900 mb-3">Hayalet Manken (Ghost)</h3>
                        <p className="text-gray-500 leading-relaxed mb-6">
                          Manken Ã¼zerinde Ã§ektiÄŸiniz fotoÄŸraftaki insanÄ± siler, sadece kÄ±yafeti bÄ±rakÄ±r. Yaka detaylarÄ±nÄ± otomatik tamamlar.
                        </p>
                        <div className="space-y-3">
                          <div className="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                             <span className="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-600">ğŸ›ï¸</span>
                             <span className="text-sm font-medium text-gray-700">Pazaryeri Uyumlu (Trendyol)</span>
                          </div>
                          <div className="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                             <span className="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-600">â¬œï¸</span>
                             <span className="text-sm font-medium text-gray-700">Åeffaf / Beyaz Arkaplan</span>
                          </div>
                        </div>
                      </div>
                    )}
                 </div>
              </div>

              {/* SaÄŸ: GÃ¶rsel KarÅŸÄ±laÅŸtÄ±rma */}
              <div className="relative aspect-square md:aspect-video rounded-3xl overflow-hidden shadow-2xl border-8 border-white group">
                 <div className="absolute inset-0 flex">
                    <div className="w-1/2 h-full bg-gray-200 relative">
                       <img src="https://images.unsplash.com/photo-1550614000-4b9519e02a48?w=800&q=80" className="w-full h-full object-cover opacity-90" alt="Before" />
                       <div className="absolute top-6 left-6 bg-white/90 text-black text-xs font-bold px-3 py-1.5 rounded-lg backdrop-blur-md shadow-sm">Ã–NCE</div>
                    </div>
                    <div className="w-1/2 h-full bg-blue-50 relative">
                       <img src="https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?w=800&q=80" className="w-full h-full object-cover" alt="After" />
                       <div className="absolute top-6 right-6 bg-black text-white text-xs font-bold px-3 py-1.5 rounded-lg shadow-lg">SONRA</div>
                    </div>
                 </div>
                 
                 {/* Ã‡izgi */}
                 <div className="absolute inset-y-0 left-1/2 w-1 bg-white shadow-[0_0_20px_rgba(0,0,0,0.5)] flex items-center justify-center">
                    <div className="w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-xl text-gray-400 group-hover:scale-110 transition-transform">â†”</div>
                 </div>
              </div>
           </div>
        </div>
      </section>

      {/* FEATURES SECTION */}
      <section id="features" className="py-24 px-4 bg-white">
        <div className="max-w-7xl mx-auto">
           <div className="text-center mb-20">
             <span className="text-blue-600 font-bold tracking-widest uppercase text-xs">HÄ°ZMETLERÄ°MÄ°Z</span>
             <h2 className="text-4xl font-extrabold text-gray-900 mt-3">Sadece Manken DeÄŸil,<br/>Tam Bir ProdÃ¼ksiyon AjansÄ±.</h2>
           </div>

           <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
              {/* KART 1 */}
              <div className="p-8 rounded-3xl bg-gray-50 border border-gray-100 hover:bg-white hover:shadow-xl hover:-translate-y-2 transition-all duration-300 group">
                 <div className="w-16 h-16 bg-white rounded-2xl flex items-center justify-center text-blue-600 mb-6 shadow-sm group-hover:bg-blue-600 group-hover:text-white transition-colors">
                    {icons.studio}
                 </div>
                 <h3 className="text-xl font-bold text-gray-900 mb-3">Sanal StÃ¼dyo</h3>
                 <p className="text-gray-500 text-sm leading-relaxed">
                   KÄ±yafetlerinizi yÃ¼kleyin, veritabanÄ±mÄ±zdaki yÃ¼zlerce mankenden (SarÄ±ÅŸÄ±n, AsyalÄ±, Afro) birine giydirin.
                 </p>
              </div>
              
              {/* KART 2 */}
              <div className="p-8 rounded-3xl bg-gray-50 border border-gray-100 hover:bg-white hover:shadow-xl hover:-translate-y-2 transition-all duration-300 group">
                 <div className="w-16 h-16 bg-white rounded-2xl flex items-center justify-center text-purple-600 mb-6 shadow-sm group-hover:bg-purple-600 group-hover:text-white transition-colors">
                    {icons.ghost}
                 </div>
                 <h3 className="text-xl font-bold text-gray-900 mb-3">Hayalet Manken</h3>
                 <p className="text-gray-500 text-sm leading-relaxed">
                   E-ticaret siteleri iÃ§in vazgeÃ§ilmez. Mankeni siler, sadece Ã¼rÃ¼nÃ¼ bÄ±rakÄ±r. Dekupe derdine son.
                 </p>
              </div>

              {/* KART 3 */}
              <div className="p-8 rounded-3xl bg-gray-50 border border-gray-100 hover:bg-white hover:shadow-xl hover:-translate-y-2 transition-all duration-300 group">
                 <div className="w-16 h-16 bg-white rounded-2xl flex items-center justify-center text-green-600 mb-6 shadow-sm group-hover:bg-green-600 group-hover:text-white transition-colors">
                    {icons.bg}
                 </div>
                 <h3 className="text-xl font-bold text-gray-900 mb-3">Atmosfer SihirbazÄ±</h3>
                 <p className="text-gray-500 text-sm leading-relaxed">
                   DÃ¼kkanÄ±n ortasÄ±nda Ã§ekilen fotoÄŸrafÄ± tek tÄ±kla Paris sokaklarÄ±na veya profesyonel bir stÃ¼dyoya taÅŸÄ±yÄ±n.
                 </p>
              </div>

              {/* KART 4 */}
              <div className="p-8 rounded-3xl bg-gray-50 border border-gray-100 hover:bg-white hover:shadow-xl hover:-translate-y-2 transition-all duration-300 group">
                 <div className="w-16 h-16 bg-white rounded-2xl flex items-center justify-center text-yellow-600 mb-6 shadow-sm group-hover:bg-yellow-500 group-hover:text-white transition-colors">
                    {icons.text}
                 </div>
                 <h3 className="text-xl font-bold text-gray-900 mb-3">AkÄ±llÄ± Yazar</h3>
                 <p className="text-gray-500 text-sm leading-relaxed">
                   "Ne yazsam?" diye dÃ¼ÅŸÃ¼nme. FotoÄŸrafÄ± yÃ¼kle, Instagram ve Trendyol iÃ§in satÄ±ÅŸ odaklÄ± aÃ§Ä±klaman hazÄ±r olsun.
                 </p>
              </div>
           </div>
        </div>
      </section>

      {/* HOW IT WORKS (YENÄ° BÃ–LÃœM) */}
      <section id="how-it-works" className="py-24 bg-black text-white">
         <div className="max-w-7xl mx-auto px-4">
            <div className="flex flex-col md:flex-row gap-16 items-center">
               <div className="flex-1">
                  <h2 className="text-4xl font-extrabold mb-6">3 AdÄ±mda Profesyonel Ã‡ekim.</h2>
                  <p className="text-gray-400 text-lg mb-8">KarmaÅŸÄ±k programlar yok. FotoÄŸrafÃ§Ä±lÄ±k bilgisi gerekmez.</p>
                  
                  <div className="space-y-8">
                     <div className="flex gap-4">
                        <div className="w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center font-bold text-lg">1</div>
                        <div>
                           <h4 className="font-bold text-xl mb-1">FotoÄŸrafÄ± YÃ¼kle</h4>
                           <p className="text-gray-400">ÃœrÃ¼nÃ¼ askÄ±da, yerde veya manken Ã¼zerinde Ã§ekip sisteme yÃ¼kleyin.</p>
                        </div>
                     </div>
                     <div className="flex gap-4">
                        <div className="w-10 h-10 rounded-full bg-purple-600 flex items-center justify-center font-bold text-lg">2</div>
                        <div>
                           <h4 className="font-bold text-xl mb-1">AyarlarÄ±nÄ± SeÃ§</h4>
                           <p className="text-gray-400">Hangi manken giysin? Arkaplan neresi olsun? SeÃ§imini yap.</p>
                        </div>
                     </div>
                     <div className="flex gap-4">
                        <div className="w-10 h-10 rounded-full bg-green-600 flex items-center justify-center font-bold text-lg">3</div>
                        <div>
                           <h4 className="font-bold text-xl mb-1">Sonucu Ä°ndir</h4>
                           <p className="text-gray-400">Saniyeler iÃ§inde 4K kalitesindeki gÃ¶rselin hazÄ±r. PaylaÅŸmaya baÅŸla.</p>
                        </div>
                     </div>
                  </div>
               </div>
               <div className="flex-1 relative">
                  {/* Dekoratif GÃ¶rsel */}
                  <div className="aspect-[4/5] bg-gray-800 rounded-3xl overflow-hidden border border-gray-700 relative shadow-2xl">
                     <div className="absolute inset-0 flex items-center justify-center text-gray-600 font-bold">
                        UYGULAMA ARAYÃœZÃœ
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </section>

      {/* PRICING SECTION */}
      <section id="pricing" className="py-24 bg-white">
        <div className="max-w-7xl mx-auto px-4">
           <div className="text-center mb-16">
             <h2 className="text-4xl font-extrabold text-gray-900 mb-4">Basit ve Åeffaf FiyatlandÄ±rma</h2>
             <p className="text-gray-500">Gizli Ã¼cret yok. FotoÄŸrafÃ§Ä± masrafÄ±nÄ±n 10'da 1'i.</p>
           </div>

           <div className="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
              {/* Plan 1 */}
              <div className="p-8 rounded-3xl bg-white border border-gray-200 hover:border-gray-300 transition hover:shadow-lg">
                 <h3 className="text-lg font-bold text-gray-500 mb-2">BaÅŸlangÄ±Ã§</h3>
                 <div className="text-4xl font-extrabold text-gray-900 mb-6">â‚º499<span className="text-sm font-normal text-gray-400">/ay</span></div>
                 <ul className="space-y-4 text-sm text-gray-600 mb-8">
                   <li className="flex gap-3">{icons.check} 50 FotoÄŸraf Ä°ÅŸleme</li>
                   <li className="flex gap-3">{icons.check} Standart Mankenler</li>
                   <li className="flex gap-3">{icons.check} Normal HÄ±z</li>
                 </ul>
                 <button className="w-full py-3 rounded-xl bg-gray-100 font-bold text-gray-900 hover:bg-gray-200 transition">Paketi SeÃ§</button>
              </div>

              {/* Plan 2 (POPÃœLER) */}
              <div className="p-8 rounded-3xl bg-black text-white border border-gray-800 transform md:-translate-y-4 shadow-2xl relative">
                 <div className="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-blue-600 text-white text-xs font-bold px-4 py-1.5 rounded-full shadow-lg">EN Ã‡OK TERCÄ°H EDÄ°LEN</div>
                 <h3 className="text-lg font-bold text-gray-400 mb-2">Butik Pro</h3>
                 <div className="text-4xl font-extrabold mb-6">â‚º999<span className="text-sm font-normal text-gray-500">/ay</span></div>
                 <ul className="space-y-4 text-sm text-gray-300 mb-8">
                   <li className="flex gap-3">{icons.check} 200 FotoÄŸraf Ä°ÅŸleme</li>
                   <li className="flex gap-3">{icons.check} TÃ¼m Premium Mankenler</li>
                   <li className="flex gap-3">{icons.check} Hayalet Manken Modu</li>
                   <li className="flex gap-3">{icons.check} YÃ¼ksek HÄ±z & Ã–ncelik</li>
                 </ul>
                 <button className="w-full py-3 rounded-xl bg-white text-black font-bold hover:bg-gray-100 transition shadow-lg">Hemen BaÅŸla</button>
              </div>

              {/* Plan 3 */}
              <div className="p-8 rounded-3xl bg-white border border-gray-200 hover:border-gray-300 transition hover:shadow-lg">
                 <h3 className="text-lg font-bold text-gray-500 mb-2">Ajans / Toptan</h3>
                 <div className="text-4xl font-extrabold text-gray-900 mb-6">â‚º2.499<span className="text-sm font-normal text-gray-400">/ay</span></div>
                 <ul className="space-y-4 text-sm text-gray-600 mb-8">
                   <li className="flex gap-3">{icons.check} 1000 FotoÄŸraf Ä°ÅŸleme</li>
                   <li className="flex gap-3">{icons.check} API EriÅŸimi</li>
                   <li className="flex gap-3">{icons.check} Ã–zel Manken TasarÄ±mÄ±</li>
                 </ul>
                 <button className="w-full py-3 rounded-xl bg-gray-100 font-bold text-gray-900 hover:bg-gray-200 transition">Ä°letiÅŸime GeÃ§</button>
              </div>
           </div>
        </div>
      </section>

      {/* FAQ SECTION */}
      <section className="py-24 px-4 max-w-3xl mx-auto border-t border-gray-100">
         <h2 className="text-3xl font-bold text-center mb-12 text-gray-900">SÄ±kÃ§a Sorulan Sorular</h2>
         <div className="space-y-4">
            {[
              {q: "FotoÄŸraflarÄ± telefonla Ã§eksem yeterli mi?", a: "Kesinlikle! Sistemin en bÃ¼yÃ¼k Ã¶zelliÄŸi bu. Profesyonel kameraya gerek yok, telefonla Ã§ektiÄŸiniz net fotoÄŸraflar yeterlidir."},
              {q: "Mankenlerin yÃ¼zleri telifli mi?", a: "HayÄ±r. Mankenlerimiz tamamen yapay zeka tarafÄ±ndan Ã¼retilmiÅŸ, gerÃ§ekte var olmayan kiÅŸilerdir. Telif sorunu yaÅŸamadan her yerde kullanabilirsiniz."},
              {q: "KullanÄ±lmayan krediler devrediyor mu?", a: "Evet, bir sonraki aya devreden kredi sistemimiz mevcuttur."},
              {q: "Ãœcretsiz deneme sÃ¼resi var mÄ±?", a: "Evet, kayÄ±t olan herkese sistemimizi test etmeleri iÃ§in 5 kredi hediye ediyoruz."}
            ].map((item, i) => (
              <div key={i} className="border border-gray-200 rounded-2xl overflow-hidden">
                 <button onClick={() => toggleFaq(i)} className="w-full flex justify-between items-center p-6 text-left bg-white hover:bg-gray-50 transition">
                    <span className="font-bold text-gray-800">{item.q}</span>
                    <span className="text-2xl text-gray-400 font-light">{openFaq === i ? "âˆ’" : "+"}</span>
                 </button>
                 {openFaq === i && (
                   <div className="p-6 pt-0 text-gray-600 text-sm leading-relaxed bg-white">
                     {item.a}
                   </div>
                 )}
              </div>
            ))}
         </div>
      </section>

      {/* CTA FOOTER */}
      <footer className="bg-gray-50 pt-24 pb-12 border-t border-gray-200">
         <div className="max-w-7xl mx-auto px-4 text-center">
            <h2 className="text-4xl font-extrabold text-gray-900 mb-6 tracking-tight">ProdÃ¼ksiyon Maliyetlerini SÄ±fÄ±rlayÄ±n.</h2>
            <p className="text-gray-500 mb-10 text-lg max-w-2xl mx-auto">
              BugÃ¼n Ã¼cretsiz katÄ±lÄ±n, kredi kartÄ± gerekmeden ilk Ã¼rÃ¼nÃ¼nÃ¼zÃ¼ 2 dakika iÃ§inde mankene giydirin.
            </p>
            <Link href="/login" className="inline-block px-12 py-5 bg-black text-white font-bold text-lg rounded-full hover:bg-gray-800 transition shadow-2xl hover:-translate-y-1 hover:shadow-black/20">
               Ãœcretsiz HesabÄ±nÄ± OluÅŸtur ğŸš€
            </Link>
            
            <div className="mt-24 pt-8 border-t border-gray-200 flex flex-col md:flex-row justify-between items-center text-sm text-gray-500">
               <div className="mb-4 md:mb-0">
                  <span className="font-bold text-gray-900">butikmodel.com</span> Â© 2026
               </div>
               <div className="flex gap-8">
                  <a href="/legal/privacy" className="hover:text-gray-900 transition-colors">Gizlilik</a>
                  <a href="/legal/terms" className="hover:text-gray-900 transition-colors">Åartlar</a>
                  <a href="/contact" className="hover:text-gray-900 transition-colors">Ä°letiÅŸim</a>
               </div>
            </div>
         </div>
      </footer>
    </div>
  );
}
--- DOSYA SONU: app/page.tsx ---


--- DOSYA BAÅLANGICI: components/Background.tsx ---
export default function Background() {
  return (
    <div className="fixed inset-0 z-[-1] overflow-hidden pointer-events-none bg-gray-50">
      {/* Mor Top */}
      <div className="absolute top-0 left-[-10%] w-96 h-96 bg-purple-400 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"></div>
      {/* SarÄ± Top */}
      <div className="absolute top-0 right-[-10%] w-96 h-96 bg-yellow-400 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"></div>
      {/* Pembe Top */}
      <div className="absolute bottom-[-20%] left-[20%] w-96 h-96 bg-pink-400 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"></div>
    </div>
  );
}
--- DOSYA SONU: components/Background.tsx ---


--- DOSYA BAÅLANGICI: components/Sidebar.tsx ---
"use client";

import Link from "next/link";
import { usePathname, useRouter } from "next/navigation";
import { useEffect, useState } from "react";
import { createClient } from "@supabase/supabase-js";

// Supabase baÄŸlantÄ±sÄ±
const supabase = createClient(
  process.env.NEXT_PUBLIC_SUPABASE_URL!,
  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!
);

export default function Sidebar() {
  const pathname = usePathname();
  const router = useRouter();
  
  const [credits, setCredits] = useState<number | string>("-");
  const [userEmail, setUserEmail] = useState<string>("");

  useEffect(() => {
    const initData = async () => {
      const { data: { session } } = await supabase.auth.getSession();
      
      if (session?.user) {
        setUserEmail(session.user.email || "");

        try {
            const { data } = await supabase
            .from("profiles")
            .select("credits")
            .eq("id", session.user.id)
            .single();

            setCredits(data ? data.credits : 0);
        } catch (e) {
            console.log("Profil tablosu henÃ¼z hazÄ±r deÄŸil.");
        }
      }
    };
    initData();
  }, []);

  const handleLogout = async () => {
    await supabase.auth.signOut();
    router.push("/login");
  };

  // Ä°KONLAR
  const icons = {
    home: <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg>,
    studio: <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>,
    ghost: <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>,
    models: <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>,
    faceScan: <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path></svg>,
    text: <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>,
    bg: <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>,
    profile: <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>,
    settings: <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>,
    logout: <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>
  };

  // MENU GRUPLARI
  const menuGroups = [
    {
      title: "ANA MENÃœ",
      items: [
        { name: "Genel BakÄ±ÅŸ", href: "/dashboard", icon: icons.home },
      ]
    },
    {
      title: "ÃœRETÄ°M ARAÃ‡LARI",
      items: [
        { name: "Sanal StÃ¼dyo", href: "/dashboard/studio", icon: icons.studio },
        { name: "Hayalet Manken", href: "/dashboard/ghost", icon: icons.ghost },
        { name: "Atmosfer SihirbazÄ±", href: "/dashboard/background", icon: icons.bg },
        { name: "Metin YazarÄ±", href: "/dashboard/copywriter", icon: icons.text },
      ]
    },
    {
      title: "KÃœTÃœPHANE",
      items: [
        { name: "Mankenlerim", href: "/dashboard/my-models", icon: icons.models },
        { name: "Dijital Ä°kiz (YENÄ°)", href: "/dashboard/train-model", icon: icons.faceScan },
      ]
    },
    {
      title: "HESAP",
      items: [
        { name: "CÃ¼zdan & Profil", href: "/dashboard/profile", icon: icons.profile },
        { name: "Ayarlar", href: "/dashboard/settings", icon: icons.settings }, // YENÄ° EKLENEN
      ]
    }
  ];

  return (
    <div className="w-64 bg-[#0a0a0a] text-gray-400 h-screen flex flex-col justify-between border-r border-gray-900 flex-shrink-0 sticky top-0 overflow-y-auto custom-scrollbar">
      
      {/* ÃœST KISIM */}
      <div className="p-4">
        {/* LOGO */}
        <div className="mb-8 px-2 flex items-center gap-3">
          <div className="w-8 h-8 bg-white rounded-lg flex items-center justify-center text-black font-extrabold text-lg shadow-[0_0_15px_rgba(255,255,255,0.3)]">B</div>
          <span className="font-bold text-lg text-white tracking-tight">butikmodel.ai</span>
        </div>

        {/* MENÃœ GRUPLARI */}
        <div className="space-y-6">
          {menuGroups.map((group, groupIndex) => (
            <div key={groupIndex}>
              <h3 className="text-[10px] font-bold text-gray-600 uppercase tracking-widest px-3 mb-2">
                {group.title}
              </h3>
              <nav className="space-y-0.5">
                {group.items.map((item) => {
                  const isActive = pathname === item.href;
                  return (
                    <Link
                      key={item.href}
                      href={item.href}
                      className={`flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 group ${
                        isActive 
                        ? "bg-white text-black shadow-lg shadow-white/10" 
                        : "hover:bg-gray-900 hover:text-white"
                      }`}
                    >
                      <span className={`${isActive ? "text-black" : "text-gray-500 group-hover:text-white"}`}>
                          {item.icon}
                      </span>
                      <span>{item.name}</span>
                    </Link>
                  );
                })}
              </nav>
            </div>
          ))}
        </div>
      </div>
      
      {/* ALT KISIM: KREDÄ° & PROFÄ°L */}
      <div className="p-4 space-y-4 bg-[#0a0a0a] border-t border-gray-900">
        
        {/* CÃœZDAN KARTI */}
        <div className="bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 border border-gray-700/50 shadow-xl relative overflow-hidden group">
          <div className="absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity">
             <span className="text-4xl">âš¡ï¸</span>
          </div>
          <p className="text-[10px] uppercase tracking-wider font-bold text-gray-500 mb-1">BAKÄ°YE</p>
          <div className="flex justify-between items-end">
             <span className="text-xl font-bold text-white tracking-tight">{credits}</span>
             <Link href="/dashboard/profile" className="text-[10px] font-bold bg-blue-600 hover:bg-blue-500 text-white px-2.5 py-1 rounded transition-colors">
                YÃœKLE
             </Link>
          </div>
        </div>

        {/* KULLANICI PROFÄ°LÄ° */}
        <div className="flex items-center gap-3 px-2">
           <div className="w-8 h-8 rounded-full bg-gradient-to-tr from-blue-500 to-purple-500 flex items-center justify-center text-white text-xs font-bold flex-shrink-0">
              {userEmail.charAt(0).toUpperCase()}
           </div>
           <div className="flex-1 min-w-0">
              <p className="text-xs font-bold text-white truncate">{userEmail.split('@')[0]}</p>
              <p className="text-[10px] text-gray-600 truncate">Ãœcretsiz Plan</p>
           </div>
           <button 
             onClick={handleLogout}
             className="text-gray-500 hover:text-red-500 transition-colors p-1"
             title="Ã‡Ä±kÄ±ÅŸ Yap"
           >
              {icons.logout}
           </button>
        </div>

      </div>
    </div>
  );
}
--- DOSYA SONU: components/Sidebar.tsx ---


--- DOSYA BAÅLANGICI: lib/supabase.ts ---
import { createClient } from '@supabase/supabase-js'

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!
const supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!

export const supabase = createClient(supabaseUrl, supabaseKey)
--- DOSYA SONU: lib/supabase.ts ---


--- DOSYA BAÅLANGICI: next-env.d.ts ---
/// <reference types="next" />
/// <reference types="next/image-types/global" />
import "./.next/dev/types/routes.d.ts";

// NOTE: This file should not be edited
// see https://nextjs.org/docs/app/api-reference/config/typescript for more information.

--- DOSYA SONU: next-env.d.ts ---


--- DOSYA BAÅLANGICI: next.config.ts ---
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  typescript: {
    // Tip hatalarÄ± yÃ¼zÃ¼nden Ã¼retimi durdurma
    ignoreBuildErrors: true,
  },
  // eslint bloÄŸunu kaldÄ±rdÄ±k Ã§Ã¼nkÃ¼ Next.js 16'da hata verdiriyor
};

export default nextConfig;
--- DOSYA SONU: next.config.ts ---
